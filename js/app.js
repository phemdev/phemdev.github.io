!function(){"use strict";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function t(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,s=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){s=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function(){function e(t){i(this,e),this.mAttr="data-"+t.name,this.el=t.el}return t(e,[{key:"mInit",value:function(t){var e=this;this.modules=t,this.mCheckEventTarget=this.mCheckEventTarget.bind(this),this.events&&Object.keys(this.events).forEach(function(t){return e.mAddEvent(t)})}},{key:"mUpdate",value:function(t){this.modules=t}},{key:"mDestroy",value:function(){var e=this;this.events&&Object.keys(this.events).forEach(function(t){return e.mRemoveEvent(t)})}},{key:"mAddEvent",value:function(t){this.el.addEventListener(t,this.mCheckEventTarget)}},{key:"mRemoveEvent",value:function(t){this.el.removeEventListener(t,this.mCheckEventTarget)}},{key:"mCheckEventTarget",value:function(t){var e=this.events[t.type];if("string"==typeof e)this[e](t);else for(var i="["+this.mAttr+"]",n=t.target;n&&n!==document;){if(n.matches(i)){var s=n.getAttribute(this.mAttr);if(e.hasOwnProperty(s)){var o=e[s];Object.defineProperty(t,"currentTarget",{value:n}),this[o](t);break}}n=n.parentNode}}},{key:"$",value:function(t,e){var i=[t.indexOf("."),t.indexOf("#"),t.indexOf("[")].filter(function(t){return-1!=t}),n=!1,s=t,o="",r=this.el;i.length&&(n=Math.min.apply(Math,c(i)),s=t.slice(0,n),o=t.slice(n)),"object"==l(e)&&(r=e);var a=r.querySelectorAll("["+this.mAttr+"="+s+"]"+o);return 1==a.length?a[0]:a}},{key:"parent",value:function(t,e){for(var i="["+this.mAttr+"="+t+"]",n=e;n&&n!==document;){if(n.matches(i))return n;n=n.parentNode}}},{key:"data",value:function(t,e){return(e||this.el).getAttribute(this.mAttr+"-"+t)}},{key:"call",value:function(e,i,n,t){var s=this;i&&!n&&(n=i,i=!1),t?this.modules[n][t][e](i):Object.keys(this.modules[n]).forEach(function(t){s.modules[n][t][e](i)})}},{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),e}(),r=function(){function e(t){i(this,e),this.app,this.modules=t.modules,this.currentModules={},this.activeModules={},this.newModules={},this.moduleId=0}return t(e,[{key:"init",value:function(t,l){var c=this,e=(l||document).querySelectorAll("*");t&&!this.app&&(this.app=t),this.activeModules.app={app:this.app},e.forEach(function(a){Array.from(a.attributes).forEach(function(t){if(t.name.startsWith("data-module")){var e=!1,i=c.toCamel(t.name.split("-").splice(2));if(c.modules[i]?e=!0:c.modules[c.toUpper(i)]&&(i=c.toUpper(i),e=!0),e){var n={el:a,name:i},s=new c.modules[i](n),o=t.value;o||(c.moduleId++,o="m"+c.moduleId,a.setAttribute(t.name,o)),c.addActiveModule(i,o,s);var r=i+"-"+o;l?c.newModules[r]=s:c.currentModules[r]=s}}})}),Object.entries(this.currentModules).forEach(function(t){var e=a(t,2),i=e[0],n=e[1];if(l){var s=i.split("-"),o=s.shift(),r=s.pop();c.addActiveModule(o,r,n)}else c.initModule(n)})}},{key:"initModule",value:function(t){t.mInit(this.activeModules),t.init()}},{key:"addActiveModule",value:function(t,e,i){this.activeModules[t]?Object.assign(this.activeModules[t],s({},e,i)):this.activeModules[t]=s({},e,i)}},{key:"update",value:function(t){var n=this;this.init(this.app,t),Object.entries(this.currentModules).forEach(function(t){var e=a(t,2);e[0];e[1].mUpdate(n.activeModules)}),Object.entries(this.newModules).forEach(function(t){var e=a(t,2),i=(e[0],e[1]);n.initModule(i)}),Object.assign(this.currentModules,this.newModules)}},{key:"destroy",value:function(t){t?this.destroyScope(t):this.destroyModules()}},{key:"destroyScope",value:function(t){var o=this;t.querySelectorAll("*").forEach(function(t){Array.from(t.attributes).forEach(function(t){if(t.name.startsWith("data-module")){var e=t.name.split("-").pop(),i=t.value,n=o.toUpper(e)+"-"+i,s=o.currentModules[n];s&&(o.destroyModule(s),delete o.currentModules[n])}})}),this.activeModules={},this.newModules={}}},{key:"destroyModules",value:function(){var n=this;Object.entries(this.currentModules).forEach(function(t){var e=a(t,2),i=(e[0],e[1]);n.destroyModule(i)}),this.currentModules=[]}},{key:"destroyModule",value:function(t){t.mDestroy(),t.destroy()}},{key:"toCamel",value:function(t){var i=this;return t.reduce(function(t,e){return t+i.toUpper(e)})}},{key:"toUpper",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}]),e}();function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,i){return e&&u(t.prototype,e),i&&u(t,i),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?m(t):e}function g(t,e,i){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function w(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,s=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){s=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaults={name:"load",loadingClass:"is-loading",loadedClass:"is-loaded",readyClass:"is-ready",transitionsPrefix:"is-",enterDelay:0,exitDelay:0,loadedDelay:0,isLoaded:!1,isEntered:!1,isUrl:!1,transitionContainer:null},Object.assign(this,this.defaults,t),this.options=t,this.namespace="modular",this.html=document.documentElement,this.href=window.location.href,this.container="data-"+this.name+"-container",this.subContainer=!1,this.prevTransition=null,this.loadAttributes=["src","srcset","style","href"],this.isInserted=!1,this.isLoading=!1,this.enterTimeout=!1,this.controller=new AbortController,this.classContainer=this.html,this.isChrome=-1!=navigator.userAgent.indexOf("Chrome"),this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){var e=this;window.addEventListener("popstate",function(t){return e.checkState(t)},!1),this.html.addEventListener("click",function(t){return e.checkClick(t)},!1),this.loadEls(document)}},{key:"checkClick",value:function(t){if(!t.ctrlKey&&!t.metaKey)for(var e=t.target;e&&e!==document;){if(e.matches("a")){var i=e.getAttribute("href");i.startsWith("#")||i.startsWith("mailto:")||i.startsWith("tel:")||(t.preventDefault(),this.reset(),this.getClickOptions(e));break}e=e.parentNode}}},{key:"checkState",value:function(){this.reset(),this.getStateOptions()}},{key:"reset",value:function(){this.isLoading&&(this.controller.abort(),this.isLoading=!1,this.controller=new AbortController),window.clearTimeout(this.enterTimeout),this.isInserted&&this.removeContainer(),this.classContainer=this.html,Object.assign(this,this.defaults,this.options)}},{key:"getClickOptions",value:function(t){this.transition=t.getAttribute("data-"+this.name),this.isUrl=t.getAttribute("data-"+this.name+"-url");var e=t.getAttribute("href");"_blank"!=t.getAttribute("target")?"false"!=this.transition?this.setOptions(e,!0):window.location=e:window.open(e,"_blank")}},{key:"getStateOptions",value:function(){this.transition=history.state;var t=window.location.href;this.setOptions(t)}},{key:"goTo",value:function(t,e,i){this.reset(),this.transition=e,this.isUrl=i,this.setOptions(t,!0)}},{key:"setOptions",value:function(t,e){var i,n="["+this.container+"]";this.transition&&"true"!=this.transition&&(this.transitionContainer="["+this.container+'="'+this.transition+'"]',this.loadingClass=this.transitions[this.transition].loadingClass||this.loadingClass,this.loadedClass=this.transitions[this.transition].loadedClass||this.loadedClass,this.readyClass=this.transitions[this.transition].readyClass||this.readyClass,this.transitionsPrefix=this.transitions[this.transition].transitionsPrefix||this.transitionsPrefix,this.enterDelay=this.transitions[this.transition].enterDelay||this.enterDelay,this.exitDelay=this.transitions[this.transition].exitDelay||this.exitDelay,this.loadedDelay=this.transitions[this.transition].loadedDelay||this.loadedDelay,i=document.querySelector(this.transitionContainer)),i?(n=this.transitionContainer,this.oldContainer=i,this.classContainer=this.oldContainer.parentNode,this.subContainer||history.replaceState(this.transition,null,this.href),this.subContainer=!0):(this.oldContainer=document.querySelector(n),this.subContainer&&history.replaceState(this.prevTransition,null,this.href),this.subContainer=!1),this.href=t,this.parentContainer=this.oldContainer.parentNode,""===this.isUrl||null!=this.isUrl&&"false"!=this.isUrl&&0!=this.isUrl?history.pushState(this.transition,null,t):(this.oldContainer.classList.add("is-old"),this.setLoading(),this.startEnterDelay(),this.loadHref(t,n,e))}},{key:"setLoading",value:function(){this.classContainer.classList.remove(this.loadedClass,this.readyClass),this.classContainer.classList.add(this.loadingClass),this.classContainer.classList.remove(this.transitionsPrefix+this.prevTransition),this.transition&&this.classContainer.classList.add(this.transitionsPrefix+this.transition),this.subContainer||(this.prevTransition=this.transition);var t=new Event(this.namespace+"loading");window.dispatchEvent(t)}},{key:"startEnterDelay",value:function(){var t=this;this.enterTimeout=window.setTimeout(function(){t.isEntered=!0,t.isLoaded&&t.transitionContainers()},this.enterDelay)}},{key:"loadHref",value:function(t,i,e){var n=this;this.isLoading=!0;var s=this.controller.signal;fetch(t,{signal:s}).then(function(t){return t.text()}).then(function(t){var e=new DOMParser;n.data=e.parseFromString(t,"text/html"),n.newContainer=n.data.querySelector(i),n.newContainer.classList.add("is-new"),n.parentNewContainer=n.newContainer.parentNode,n.hideContainer(),n.parentContainer.insertBefore(n.newContainer,n.oldContainer),n.isInserted=!0,n.setSvgs(),n.isLoaded=!0,n.isEntered&&n.transitionContainers(),n.loadEls(n.newContainer),n.isLoading=!1}).catch(function(t){console.log(t)}),e&&history.pushState(this.transition,null,t)}},{key:"transitionContainers",value:function(){var t=this;this.setAttributes(),this.showContainer(),this.setLoaded(),setTimeout(function(){t.removeContainer(),t.setReady()},this.exitDelay)}},{key:"setSvgs",value:function(){if(this.isChrome){var t=this.newContainer.querySelectorAll("use");t.length&&t.forEach(function(t){var e=t.getAttribute("xlink:href");if(e)t.parentNode.innerHTML='<use xlink:href="'+e+'"></use>';else{var i=t.getAttribute("href");i&&(t.parentNode.innerHTML='<use href="'+i+'"></use>')}})}}},{key:"setAttributes",value:function(){var s,t,o=this,e=this.data.getElementsByTagName("title")[0],i=this.data.head.querySelector('meta[name="description"]'),n=document.head.querySelector('meta[name="description"]');s=this.subContainer?(t=this.parentNewContainer,document.querySelector(this.transitionContainer).parentNode):(t=this.data.querySelector("html"),document.querySelector("html"));var r=Object.assign({},t.dataset);e&&(document.title=e.innerHTML),n&&i&&n.setAttribute("content",i.getAttribute("content")),r&&Object.entries(r).forEach(function(t){var e=b(t,2),i=e[0],n=e[1];s.setAttribute("data-"+o.toDash(i),n)})}},{key:"toDash",value:function(t){return t.split(/(?=[A-Z])/).join("-").toLowerCase()}},{key:"hideContainer",value:function(){this.newContainer.style.visibility="hidden",this.newContainer.style.height=0,this.newContainer.style.overflow="hidden"}},{key:"showContainer",value:function(){this.newContainer.style.visibility="",this.newContainer.style.height="",this.newContainer.style.overflow=""}},{key:"loadEls",value:function(e){var i=this,o=[];this.loadAttributes.forEach(function(n){var s="data-"+i.name+"-"+n,t=e.querySelectorAll("["+s+"]");t.length&&t.forEach(function(e){var t=e.getAttribute(s);if(e.setAttribute(n,t),"src"==n||"srcset"==n){var i=new Promise(function(t){e.onload=function(){return t(e)}});o.push(i)}})}),Promise.all(o).then(function(t){var e=new Event(i.namespace+"images");window.dispatchEvent(e)})}},{key:"setLoaded",value:function(){var t=this;this.classContainer.classList.remove(this.loadingClass),setTimeout(function(){t.classContainer.classList.add(t.loadedClass)},this.loadedDelay);var e=new Event(this.namespace+"loaded");window.dispatchEvent(e)}},{key:"removeContainer",value:function(){this.parentContainer.removeChild(this.oldContainer),this.newContainer.classList.remove("is-new"),this.isInserted=!1}},{key:"setReady",value:function(){this.classContainer.classList.add(this.readyClass);var t=new Event(this.namespace+"ready");window.dispatchEvent(t)}},{key:"on",value:function(t,e){var i=this;window.addEventListener(this.namespace+t,function(){switch(t){case"loading":return e(i.transition,i.oldContainer);case"loaded":return e(i.transition,i.oldContainer,i.newContainer);case"ready":return e(i.transition,i.newContainer);default:return e()}},!1)}}])&&k(t.prototype,i),n&&k(t,n),e}(),e="Bornandbredbrand",E=$(document),L=$(window),C=document.documentElement,S=$(document.documentElement).removeClass("has-no-js").addClass("has-js"),A=$(document.body),x=($("#js-pjax-wrapper"),/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<1200),M=(S.data("debug"),function(t){function e(t){return h(this,e),y(this,v(e).call(this,t))}return f(e,o),d(e,[{key:"init",value:function(){var c=this;C.classList.add("is-first-load");var t=new T({enterDelay:600,transitions:{customTransition:{},filter:{}}});t.on("loading",function(){window.isloading=!0,setTimeout(function(){c.call("close",null,"Nav")},100);for(var t=0,e=["has-dark-header","has-white-logo","has-middle-line","is-over-footer","has-intro-dark","has-intro-light-logo","has-intro-active"];t<e.length;t++){var i=e[t];C.classList.remove(i)}}),t.on("loaded",function(t,e,i){c.call("destroy",e,"app"),c.call("update",i,"app"),document.title=document.title.replace(/&amp;/g,"&");var n=c.data("id",i);c.call("setDotById",n,"Navmain","main"),window.isloading=!1}),t.on("ready",function(t,e){var i=c.data("classes",e);if(i.length){var n=!0,s=!1,o=void 0;try{for(var r,a=i.split(" ")[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var l=r.value;C.classList.add(l)}}catch(t){s=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}}})}}]),e}()),B=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;function R(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:B.test(t)?JSON.parse(t):t)}function I(t,e){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;0<=--i&&e.item(i)!==this;);return-1<i});t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}function O(n,s,o){var r;return function(){var t=this,e=arguments,i=o&&!r;clearTimeout(r),r=setTimeout(function(){r=null,o||n.apply(t,e)},s),i&&n.apply(t,e)}}function D(t){return!isNaN(parseFloat(t))&&isFinite(t)}var P="LocomotiveScroll",_={CLICK:"click.".concat(P),ISREADY:"isReady.".concat(P),REBUILD:"rebuild.".concat(P),RENDER:"render.".concat(P),RESIZE:"resize.".concat(P),SCROLL:"scroll.".concat(P),SCROLLTO:"scrollTo.".concat(P),UPDATE:"update.".concat(P)},N={container:A,sections:".js-section",mobileContainer:A,onScroll:function(){},selector:".js-animate",smooth:!1,smoothMobile:!1,reversed:!1,getDirection:!1,getSpeed:!1,scrollBarClassName:"o-scrollbar",isScrollingClassName:"is-scrolling",isDraggingClassName:"is-dragging"},j=function(){function e(t){h(this,e),this.$container=t.container?t.container:N.container,this.selector=t.selector?t.selector:N.selector,this.callbacks={onScroll:"function"==typeof t.onScroll?t.onScroll:N.onScroll},this.instance={scroll:{x:0,y:0,direction:""}},this.windowHeight=L.height(),this.windowMiddle=this.windowHeight/2,this.animatedElements=[],this.requestId=void 0}return d(e,[{key:"init",value:function(){var i=this;this.addElements(),this.render(),E.on(_.SCROLL,function(){i.render()}),E.on(_.REBUILD,function(){i.update()}),E.on(_.UPDATE,function(t,e){return i.update(e)}),E.on(_.RENDER,function(){return i.render()}),E.on(_.CLICK,".js-scrollto",function(t){t.preventDefault(),i.scrollTo({sourceElem:t.currentTarget,offsetElem:t.currentTarget.getAttribute("data-offset")})}),E.on(_.SCROLLTO,function(t){return i.scrollTo(t.options)}),E.triggerHandler({type:_.ISREADY}),L.on(_.RESIZE,O(function(){i.update()},20))}},{key:"addElements",value:function(){this.animatedElements=[];for(var t=document.querySelectorAll(this.selector),e=t.length,i=0;i<e;i++){var n=t[i],s=n.getAttribute("data-target"),o=n.getAttribute("data-position"),r=s&&document.querySelectorAll(s).length?document.querySelectorAll(s):n,a=parseInt(r.getBoundingClientRect().top+this.instance.scroll.y),l=a+r.offsetHeight,c="string"==typeof n.getAttribute("data-sticky"),h=n.getAttribute("data-sticky-target"),u=null;"string"==typeof n.getAttribute("data-viewport-offset")&&(u=n.getAttribute("data-viewport-offset").split(","));var d="string"==typeof n.getAttribute("data-callback")?n.getAttribute("data-callback"):null,f=null;if(null!=d){for(var v=d.substr(0,d.indexOf("(")),p=d.substr(d.indexOf("("),d.length-v.length),m=(p=(p=p.replace("(","")).replace(")","")).split("|"),y={},g=0;g<m.length;g++){var w=m[g].split(":");w[0]=w[0].replace(" ","");var k=void 0;k="true"===w[1]||"false"!==w[1]&&(/^\d+$/.test(w[1])?parseInt(w[1]):w[1]),y[w[0]]=k}f={event:v,options:y}}var b="string"==typeof n.getAttribute("data-repeat"),T=n.getAttribute("data-inview-class");if(T||(T="is-show"),c){if(h)l=document.querySelectorAll(h)[0].getBoundingClientRect().top+document.body.scrollTop-n.offsetHeight;else l=this.$container[0].offsetHeight;n.classList.remove(T),n.classList.remove("is-unstuck");var E="translate3d(0, 0, 0)";n.style.webkitTransform=E,n.style.MozTransform=E,n.style.msTransform=E,n.style.OTransform=E,n.style.transform=E}!b&&n.classList.contains(T)||(this.animatedElements[i]={element:n,$element:$(n),offset:Math.round(a),repeat:b,position:o,limit:l,inViewClass:T,sticky:c,callback:f,viewportOffset:u})}}},{key:"animateElements",value:function(){for(var t=this.animatedElements.length,e=[],i=0;i<t;i++){var n=this.animatedElements[i];this.toggleElement(n,i)&&e.push(i)}for(i=e.length;i--;)this.animatedElements.splice(e[i],1)}},{key:"render",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.scroll.direction&&(this.instance.scroll.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.scroll.direction&&(this.instance.scroll.direction="up"),this.instance.scroll.y!==window.pageYOffset&&(this.instance.scroll.y=window.pageYOffset),this.instance.scroll.x!==window.pageXOffset&&(this.instance.scroll.x=window.pageXOffset),this.callbacks.onScroll(this.instance),this.animateElements()}},{key:"toggleElement",value:function(t,e){var i=!1;if(void 0!==t){var n,s=this.instance.scroll.y,o=s+this.windowHeight,r=!1;if("top"===t.position)r=s>=t.offset&&s<=t.limit;else if("below"===t.position)r=s>t.limit;else if(t.sticky)r=s>=t.offset&&s<=t.limit;else if(null!=t.viewportOffset)if(1<t.viewportOffset.length){var a=s+this.windowHeight*t.viewportOffset[1];r=o-this.windowHeight*t.viewportOffset[0]>t.offset&&a<t.limit}else{var l=o-this.windowHeight*t.viewportOffset[0];r=l>t.offset&&l<t.limit}else r=o>=t.offset&&s<=t.limit;if(t.sticky&&(s>t.limit?t.element.classList.add("is-unstuck"):t.element.classList.remove("is-unstuck"),s<t.offset&&t.element.classList.remove(t.inViewClass)),r?(t.element.classList.contains(t.inViewClass)||(t.element.classList.add(t.inViewClass),this.triggerCallback(t,"enter")),t.repeat||t.sticky||(i=!0)):t.repeat&&t.element.classList.contains(t.inViewClass)&&(t.element.classList.remove(t.inViewClass),this.triggerCallback(t,"leave")),t.sticky)if(r?n=this.instance.scroll.y-t.offset:(this.instance.scroll.y<t.offset&&(n=0),this.instance.scroll.y>t.limit&&(n=t.limit-t.offset)),t.transformDistance!=n){t.transformDistance=n;var c="translate3d(0, ".concat(n,"px, 0)");t.element.style.webkitTransform=c,t.element.style.MozTransform=c,t.element.style.msTransform=c,t.element.style.OTransform=c,t.element.style.transform=c}}return i}},{key:"triggerCallback",value:function(t,e){null!=t.callback&&$(t.element).trigger({type:t.callback.event,options:t.callback.options,way:e})}},{key:"scrollTo",value:function(t){var e=t.targetElem,i=t.sourceElem,n=t.offsetElem,s=D(t.targetOffset)?parseInt(t.targetOffset):0,o=D(t.delay)?parseInt(t.delay):0,r=D(t.speed)?parseInt(t.speed):800,a=t.toTop,l=t.toBottom;if(!(a||l||D(t.targetOffset)||e||i))return console.warn("You must specify at least one of these parameters:",["{boolean} toTop - Set to true to scroll all the way to the top","{boolean} toBottom - Set to true to scroll all the way to the bottom","{int} targetOffset - An absolute vertical scroll value to reach, or an offset to apply on top of given `targetElem` or `sourceElem`'s target","{node} targetElem - The DOM element we want to scroll to","{node} sourceElem - An `<a>` element with an href targeting the anchor we want to scroll to"]),!1;if(i){var c;console.log(i);var h=i.getAttribute("data-target");c=h||i.getAttribute("href"),e=document.querySelectorAll(c)[0]}if(e){var u=e.getBoundingClientRect().top+document.documentElement.scrollTop;s=u+s}if(n){var d=n.offsetHeight;s-=d}!0===a?s=0:!0===l&&(s=document.body.offsetHeight),setTimeout(function(){$("html, body").animate({scrollTop:s},r)},o)}},{key:"update",value:function(){this.addElements(),this.animateElements(),this.windowHeight=L.height(),this.windowMiddle=this.windowHeight/2}},{key:"destroy",value:function(){L.off(".".concat(P)),this.$container.off(".".concat(P)),window.cancelAnimationFrame(this.requestId),this.requestId=void 0,this.animatedElements=void 0}}]),e}(),H=P,z=Object.assign(_,{SCROLLING:"scrolling.".concat(H),TRIGGER_UI_DARK:"triggerUIDark.".concat(H),TRIGGER_UI_LIGHT:"triggerUILight.".concat(H)}),q=Object.assign(N,{}),W=function(t){function e(t){return h(this,e),y(this,v(e).call(this,t))}return f(e,j),d(e,[{key:"addElements",value:function(){this.animatedElements=[];for(var t=document.querySelectorAll(this.selector),e=t.length,i=0;i<e;i++){var n=t[i],s=n.getAttribute("data-target"),o=n.getAttribute("data-position"),r=s&&document.querySelector(s).length?document.querySelector(s):n,a=parseInt(r.getBoundingClientRect().top+this.instance.scroll.y),l=a+r.offsetHeight,c="string"==typeof n.getAttribute("data-sticky"),h=n.getAttribute("data-sticky-target"),u=null;"string"==typeof n.getAttribute("data-viewport-offset")&&(u=n.getAttribute("data-viewport-offset").split(","));var d="string"==typeof n.getAttribute("data-callback")?n.getAttribute("data-callback"):null,f=null;if(null!=d){for(var v=d.substr(0,d.indexOf("(")),p=d.substr(d.indexOf("("),d.length-v.length),m=(p=(p=p.replace("(","")).replace(")","")).split("|"),y={},g=0;g<m.length;g++){var w=m[g].split(":");w[0]=w[0].replace(" ","");var k=void 0;k="true"===w[1]||"false"!==w[1]&&(/^\d+$/.test(w[1])?parseInt(w[1]):w[1]),y[w[0]]=k}f={event:v,options:y}}var b="string"==typeof n.getAttribute("data-repeat"),T=n.getAttribute("data-inview-class");if(T||(T="is-show"),c){if(h)l=document.querySelectorAll(h)[0].getBoundingClientRect().top+document.body.scrollTop-n.offsetHeight;else l=this.$container[0].offsetHeight;n.classList.remove(T),n.classList.remove("is-unstuck");var E="translate3d(0, 0, 0)";n.style.webkitTransform=E,n.style.MozTransform=E,n.style.msTransform=E,n.style.OTransform=E,n.style.transform=E}!b&&n.classList.contains(T)||(this.animatedElements[i]={element:n,$element:$(n),offset:Math.round(a),repeat:b,position:o,limit:l,inViewClass:T,sticky:c,callback:f,viewportOffset:u})}}},{key:"toggleElement",value:function(t,e){var i=!1;if(void 0!==t){var n,s=this.instance.scroll.y,o=s+this.windowHeight,r=!1;if("top"===t.position)r=s>=t.offset&&s<=t.limit;else if("below"===t.position)r=s>t.limit;else if(t.sticky)r=s>=t.offset&&s<=t.limit;else if(null!=t.viewportOffset)if(1<t.viewportOffset.length){var a=s+this.windowHeight*t.viewportOffset[1];r=o-this.windowHeight*t.viewportOffset[0]>t.offset&&a<t.limit}else{var l=Math.round(o-this.windowHeight*t.viewportOffset[0]),c=Math.round(s);r=l>t.offset&&c<t.limit}else r=o>=t.offset&&s<=t.limit;if(t.sticky&&(s>t.limit?t.element.classList.add("is-unstuck"):t.element.classList.remove("is-unstuck"),s<t.offset&&t.element.classList.remove(t.inViewClass)),r?(t.element.classList.contains(t.inViewClass)||(t.element.classList.add(t.inViewClass),this.triggerCallback(t,"enter")),t.repeat||t.sticky||(i=!0)):t.repeat&&t.element.classList.contains(t.inViewClass)&&(t.element.classList.remove(t.inViewClass),this.triggerCallback(t,"leave")),t.sticky)if(r?n=this.instance.scroll.y-t.offset:(this.instance.scroll.y<t.offset&&(n=0),this.instance.scroll.y>t.limit&&(n=t.limit-t.offset)),t.transformDistance!=n){t.transformDistance=n;var h="translate3d(0, ".concat(n,"px, 0)");t.element.style.webkitTransform=h,t.element.style.MozTransform=h,t.element.style.msTransform=h,t.element.style.OTransform=h,t.element.style.transform=h}}return i}},{key:"scrollTo",value:function(t){var e=t.targetElem,i=t.sourceElem,n=t.offsetElem,s=D(t.targetOffset)?parseInt(t.targetOffset):0,o=D(t.delay)?parseInt(t.delay):0,r=D(t.speed)?parseInt(t.speed):800,a=t.toTop,l=t.toBottom;if(!(a||l||D(t.targetOffset)||e||i))return console.warn("You must specify at least one of these parameters:",["{boolean} toTop - Set to true to scroll all the way to the top","{boolean} toBottom - Set to true to scroll all the way to the bottom","{int} targetOffset - An absolute vertical scroll value to reach, or an offset to apply on top of given `targetElem` or `sourceElem`'s target","{node} targetElem - The DOM element we want to scroll to","{node} sourceElem - An `<a>` element with an href targeting the anchor we want to scroll to"]),!1;if(i){var c;console.log(i);var h=i.getAttribute("data-target");c=h||i.getAttribute("href"),e=document.querySelectorAll(c)[0]}if(e){var u=e.getBoundingClientRect().top+(document.scrollingElement?document.scrollingElement.scrollTop:document.documentElement.scrollTop);s=u+s}if(n){var d=n.offsetHeight;s-=d}!0===a?s=0:!0===l&&(s=document.body.offsetHeight),setTimeout(function(){$("html, body").animate({scrollTop:s},r)},o)}},{key:"animateElements",value:function(){if(!this.animatedElements)return console.warn("⚠️ this.animatedElements is not set properly!"),void console.log(this.animatedElements);for(var t=this.animatedElements.length,e=[],i=0;i<t;i++){var n=this.animatedElements[i];this.toggleElement(n,i)&&e.push(i)}for(i=e.length;i--;)this.animatedElements.splice(e[i],1)}},{key:"destroy",value:function(){L.off(".".concat(H)),E.off(".".concat(H)),this.$container.off(".".concat(H)),window.cancelAnimationFrame(this.requestId),this.requestId=void 0,this.animatedElements=void 0}}]),e}();function U(t,e,i){return(1-i)*t+i*e}var F=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var G=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,n,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var r in i=Object(arguments[o]))V.call(i,r)&&(s[r]=i[r]);if(F){n=F(i);for(var a=0;a<n.length;a++)Y.call(i,n[a])&&(s[n[a]]=i[n[a]])}}return s};function X(){}X.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function s(){n.off(t,s),e.apply(i,arguments)}return s._=e,this.on(t,s,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;n<s;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&e)for(var o=0,r=n.length;o<r;o++)n[o].fn!==e&&n[o].fn._!==e&&s.push(n[o]);return s.length?i[t]=s:delete i[t],this}};var K=X,J="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Z(t,e){return t(e={exports:{}},e.exports),e.exports}var Q=Z(function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,i,n){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:e<=t;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:e<=t;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:e<=t;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),0<e?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,n,s,o,r,a;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(n=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),a=n.reduce(function(t,e){return t+e}),o=i.reduce(function(t,e){return t+e}),r=a/n.length,s=o/i.length,Math.abs(r)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(J)}),tt={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in document,hasTouchWin:navigator.msMaxTouchPoints&&1<navigator.msMaxTouchPoints,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:-1<navigator.userAgent.indexOf("Firefox")},et=Object.prototype.toString,it=Object.prototype.hasOwnProperty;function nt(t,e){return function(){return t.apply(e,arguments)}}var st=Q.Lethargy,ot="virtualscroll",rt=dt,at=37,lt=38,ct=39,ht=40,ut=32;function dt(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)it.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==et.call(t[i])&&e.push(i);for(var n=0;n<e.length;n++){var s=e[n];t[s]=nt(t[s],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=G({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new st),this._emitter=new K,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}dt.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(ot,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},dt.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,tt.isFirefox&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},dt.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},dt.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},dt.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,n=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(n.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(n.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=n.pageX,this.touchStartY=n.pageY,this._notify(t)},dt.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case at:case lt:e.deltaY=this.options.keyStep;break;case ct:case ht:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case ut:e.deltaY=-i;break;default:return}this._notify(t)},dt.prototype._bind=function(){tt.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),tt.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),tt.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),tt.hasPointer&&tt.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),tt.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},dt.prototype._unbind=function(){tt.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),tt.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),tt.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),tt.hasPointer&&tt.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),tt.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},dt.prototype.on=function(t,e){this._emitter.on(ot,t,e);var i=this._emitter.e;i&&i[ot]&&1===i[ot].length&&this._bind()},dt.prototype.off=function(t,e){this._emitter.off(ot,t,e);var i=this._emitter.e;(!i[ot]||i[ot].length<=0)&&this._unbind()},dt.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},dt.prototype.destroy=function(){this._emitter.off(),this._unbind()};var ft=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).sectionsSelector=t.sections?document.querySelectorAll(t.sections):document.querySelectorAll(q.sections),e.isReversed=t.reversed||q.reversed,e.getDirection=t.getDirection||q.getDirection,e.getSpeed=t.getSpeed||q.getSpeed,e.inertia=t.inertia||q.inertia,e.scrollBarClassName=t.scrollBarClassName||q.scrollBarClassName,e.isScrollingClassName=t.isScrollingClassName||q.isScrollingClassName,e.isDraggingClassName=t.isDraggingClassName||q.isDraggingClassName,e.parallaxElements=[],e.isDraggingScrollBar=!1,e.isTicking=!1,e.hasScrollTicking=!1,e.isScrolling=!1,e}return f(i,W),d(i,[{key:"init",value:function(){var e=this;document.documentElement.classList.add("has-smooth-scroll"),this.instance=new rt({mouseMultiplier:-1<navigator.platform.indexOf("Win")?1:.4,touchMultiplier:4,firefoxMultiplier:30}),this.inertia=.1*this.inertia,this.instance.scroll={x:0,y:0,direction:null},this.instance.delta={x:0,y:0},this.getSpeed&&(this.instance.scroll.speed=0),this.instance.on(function(t){e.isTicking||e.isDraggingScrollBar||(requestAnimationFrame(function(){e.isScrolling||(e.isScrolling=!0,e.checkScroll(),C.classList.add(e.isScrollingClassName)),e.instance.delta.y-=t.deltaY,e.instance.delta.y<0&&(e.instance.delta.y=0),e.instance.delta.y>e.instance.limit&&(e.instance.delta.y=e.instance.limit)}),e.isTicking=!0),e.isTicking=!1}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.events(),this.preloadImages(),this.timestamp=Date.now(),this.render()}},{key:"events",value:function(){var i=this;this.$container.on(z.REBUILD,function(){i.update()}),this.$container.on(z.UPDATE,function(t,e){return i.update(e)}),this.$container.on(z.CLICK,".js-scrollto",function(t){t.preventDefault(),i.scrollTo({sourceElem:t.currentTarget,offsetElem:t.currentTarget.getAttribute("data-offset")})}),this.$container.on(z.SCROLLTO,function(t){return i.scrollTo(t.options)}),E.triggerHandler({type:z.ISREADY}),L.on(z.RESIZE,O(function(){i.update()},600))}},{key:"initScrollBar",value:function(){var e=this;this.scrollbarWrapper=document.createElement("span"),this.scrollbar=document.createElement("span"),this.scrollbarWrapper.classList.add("".concat(this.scrollBarClassName,"_wrapper")),this.scrollbar.classList.add("".concat(this.scrollBarClassName)),this.scrollbarWrapper.append(this.scrollbar),document.body.append(this.scrollbarWrapper),this.scrollbar.style.height="".concat(window.innerHeight*window.innerHeight/this.instance.limit,"px"),this.scrollBarLimit=window.innerHeight-this.scrollbar.getBoundingClientRect().height,this.scrollbar.addEventListener("mousedown",function(t){return e.getScrollBar(t)}),window.addEventListener("mouseup",function(t){return e.releaseScrollBar(t)}),window.addEventListener("mousemove",function(t){return e.moveScrollBar(t)})}},{key:"reinitScrollBar",value:function(){this.scrollbar.style.height="".concat(window.innerHeight*window.innerHeight/this.instance.limit,"px"),this.scrollBarLimit=window.innerHeight-this.scrollbar.getBoundingClientRect().height}},{key:"destroyScrollBar",value:function(){var e=this;this.scrollbar.removeEventListener("mousedown",function(t){return e.getScrollBar(t)}),window.removeEventListener("mouseup",function(t){return e.releaseScrollBar(t)}),window.removeEventListener("mousemove",function(t){return e.moveScrollBar(t)})}},{key:"getScrollBar",value:function(t){this.isDraggingScrollBar=!0,this.checkScroll(),C.classList.remove(this.isScrollingClassName),C.classList.add(this.isDraggingClassName)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollBar=!1,C.classList.add(this.isScrollingClassName),C.classList.remove(this.isDraggingClassName)}},{key:"moveScrollBar",value:function(e){var i=this;!this.isTicking&&this.isDraggingScrollBar&&(requestAnimationFrame(function(){var t=100*e.pageY/window.innerHeight*i.instance.limit/100;0<t&&t<i.instance.limit&&(i.instance.delta.y=t)}),this.isTicking=!0),this.isTicking=!1}},{key:"addSections",value:function(){this.sections=[];for(var t=0;t<this.sectionsSelector.length;t++){var e=this.sectionsSelector[t],i=e.getBoundingClientRect().top-1.5*window.innerHeight-this.getTranslate(e).y,n=i+e.getBoundingClientRect().height+2*window.innerHeight,s="string"==typeof e.getAttribute("data-persistent"),o=!1;this.instance.scroll.y>i&&this.instance.scroll.y<n&&(o=!0);var r={element:e,offset:i,limit:n,inView:o,persistent:s};this.sections.push(r)}}},{key:"addElements",value:function(){this.animatedElements=[],this.parallaxElements=[];for(var t=0;t<this.sections.length;t++)for(var e=this.sections[t].element.querySelectorAll(this.selector),i=(e.length,0);i<e.length;i++){var n=e[i],s=!!n.getAttribute("data-speed")&&n.getAttribute("data-speed")/10,o=(n.getAttribute("data-position"),n.getAttribute("data-target")),r=(n.getAttribute("data-horizontal"),"string"==typeof n.getAttribute("data-sticky")),a=n.getAttribute("data-sticky-target"),l=o&&document.querySelectorAll(o).length?document.querySelectorAll(o):n,c=void 0,h=(c=this.sections[t].inView?parseInt(l.getBoundingClientRect().top+this.instance.scroll.y):parseInt(l.getBoundingClientRect().top-this.getTranslate(this.sections[t].element).y))+l.offsetHeight,u=null;"string"==typeof n.getAttribute("data-viewport-offset")&&(u=n.getAttribute("data-viewport-offset").split(","));var d="string"==typeof n.getAttribute("data-callback")?n.getAttribute("data-callback"):null,f=null;if(null!=d){for(var v=d.substr(0,d.indexOf("(")),p=d.substr(d.indexOf("("),d.length-v.length),m=(p=(p=p.replace("(","")).replace(")","")).split("|"),y={},g=0;g<m.length;g++){var w=m[g].split(":");w[0]=w[0].replace(" ","");var k=void 0;k="true"===w[1]||"false"!==w[1]&&(/^\d+$/.test(w[1])?parseInt(w[1]):w[1]),y[w[0]]=k}f={event:v,options:y}}var b="string"==typeof n.getAttribute("data-repeat"),T="string"==typeof n.getAttribute("data-inview-class")?n.getAttribute("data-inview-class"):"is-show";!o&&n.getAttribute("data-transform")&&(h=(c-=parseInt(JSON.parse(n.getAttribute("data-transform")).y))+l.offsetHeight),r&&(h=a&&void 0!==a?document.querySelectorAll(a)[0].getBoundingClientRect().top-n.offsetHeight+this.instance.scroll.y:1/0);var E={element:n,inViewClass:T,limit:h,offset:Math.round(c),repeat:b,callback:f,viewportOffset:u};if(!1!==s){var L=n.getAttribute("data-position"),C="string"==typeof n.getAttribute("data-horizontal"),S=(h-c)/2+c,A=n.getAttribute("data-delay");E.horizontal=C,E.middle=S,E.offset=c,E.position=L,E.speed=s,E.delay=A,this.parallaxElements.push(E)}else E.sticky=r,this.animatedElements.push(E),r&&this.toggleElement(E)}}},{key:"checkScroll",value:function(){var t=this;if(this.isScrolling||this.isDraggingScrollBar){this.hasScrollTicking||(requestAnimationFrame(function(){return t.checkScroll()}),this.hasScrollTicking=!0);var e=Math.abs(this.instance.delta.y-this.instance.scroll.y);(e<1&&0!=this.instance.delta.y||e<.5&&0==this.instance.delta.y)&&(this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),C.classList.remove(this.isScrollingClassName)),this.render()}}},{key:"render",value:function(t,e){this.isScrolling?this.instance.scroll.y=U(this.instance.scroll.y,this.instance.delta.y,this.inertia):this.isDraggingScrollBar&&(this.instance.scroll.y=U(this.instance.scroll.y,this.instance.delta.y,.2));for(var i=this.sections.length-1;0<=i;i--)this.sections[i].persistent||this.instance.scroll.y>this.sections[i].offset&&this.instance.scroll.y<this.sections[i].limit?(this.transform(this.sections[i].element,0,-this.instance.scroll.y),this.sections[i].element.style.visibility="visible"):this.sections[i].element.style.visibility="hidden";this.getDirection&&(this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.scroll.direction&&(this.instance.scroll.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.scroll.direction&&(this.instance.scroll.direction="up")),this.getSpeed&&(this.instance.delta.y!==this.instance.scroll.y?(this.instance.scroll.speed=(this.instance.delta.y-this.instance.scroll.y)/(Date.now()-this.timestamp),this.instance.delta.y=this.instance.delta.y):this.instance.scroll.speed=0),this.transformElements(t),this.animateElements(),this.callbacks.onScroll(this.instance),this.timestamp=Date.now();var n=this.instance.scroll.y/this.instance.limit*this.scrollBarLimit;this.transform(this.scrollbar,0,n),this.hasScrollTicking=!1}},{key:"scrollTo",value:function(t){var i=this,e=t.targetElem,n=t.sourceElem,s=t.offsetElem,o=D(t.targetOffset)?parseInt(t.targetOffset):0,r=D(t.delay)?parseInt(t.delay):0,a=t.toTop,l=t.toBottom;if(!(a||l||D(t.targetOffset)||e||n))return console.warn("You must specify at least one of these parameters:",["{boolean} toTop - Set to true to scroll all the way to the top","{boolean} toBottom - Set to true to scroll all the way to the bottom","{int} targetOffset - An absolute vertical scroll value to reach, or an offset to apply on top of given `targetElem` or `sourceElem`'s target","{node} targetElem - The DOM element we want to scroll to","{node} sourceElem - An `<a>` element with an href targeting the anchor we want to scroll to"]),!1;if(n){var c;console.log(n);var h=n.getAttribute("data-target");c=h||n.getAttribute("href"),e=document.querySelectorAll(c)[0]}if(e){var u=e.getBoundingClientRect().top+this.$container[0].scrollTop,d=function(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}(e).find(function(e){return i.sections.find(function(t){return t.element==e})}),f=0;d&&(f=this.getTranslate(d).y),o=u+o-f}if(s){var v=s.offsetHeight;o-=v}!0===a?o=0:!0===l&&(o=this.instance.limit),setTimeout(function(){i.instance.delta.y=o,i.isScrolling=!0,i.checkScroll(),C.classList.add(i.isScrollingClassName)},r)}},{key:"setScrollLimit",value:function(){this.instance.limit=this.$container[0].offsetHeight-this.windowHeight}},{key:"transform",value:function(t,e,i,n){if(e=parseInt(1e4*e)/1e4||0,i=parseInt(1e4*i)/1e4||0,n){var s=this.getTranslate(t),o=U(s.y,i,n),r=U(s.x,e,n),a="matrix(1,0,0,1,".concat(r,",").concat(o,")");t.style.webkitTransform=a,t.style.MozTransform=a,t.style.msTransform=a,t.style.OTransform=a,t.style.transform=a,t.setAttribute("data-transform",'{"x": '.concat(parseInt(r),',"y": ').concat(parseInt(o),"}"))}else{var l="matrix(1,0,0,1,".concat(e,",").concat(i,")");t.style.webkitTransform=l,t.style.MozTransform=l,t.style.msTransform=l,t.style.OTransform=l,t.style.transform=l,t.setAttribute("data-transform",'{"x": '.concat(parseInt(e),',"y": ').concat(parseInt(i),"}"))}}},{key:"getTranslate",value:function(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),n=i.transform||i.webkitTransform||i.mozTransform,s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[13]):(s=n.match(/^matrix\((.+)\)$/),e.x=s?parseFloat(s[1].split(", ")[4]):0,e.y=s?parseFloat(s[1].split(", ")[5]):0,e)}}},{key:"transformElements",value:function(t){if(0<this.parallaxElements.length)for(var e=this.instance.scroll.y+this.windowHeight,i=this.instance.scroll.y+this.windowMiddle,n=0,s=this.parallaxElements.length;n<s;n++){var o=this.parallaxElements[n],r=!1,a=e+this.windowHeight>=o.offset&&this.instance.scroll.y<=o.limit;if(this.toggleElement(o,n),t&&!a&&o.speed&&(r=0),a&&o.speed)switch(o.position){case"top":r=this.instance.scroll.y*-o.speed;break;case"bottom":r=(this.instance.limit-e+this.windowHeight)*o.speed;break;default:r=(i-o.middle)*-o.speed}D(r)&&(o.horizontal?this.transform(o.element,r,0,o.delay):this.transform(o.element,0,r,o.delay))}}},{key:"update",value:function(t){this.windowHeight=L.height(),this.windowMiddle=this.windowHeight/2,this.setScrollLimit(),this.addSections(),this.addElements(),this.transformElements(!0),this.reinitScrollBar()}},{key:"preloadImages",value:function(){var i=this,n=Array.from(document.querySelectorAll("img"));n.forEach(function(t){var e=document.createElement("img");e.addEventListener("load",function(){n.splice(n.indexOf(t),1),0===n.length&&i.update()}),e.src=t.getAttribute("src")})}},{key:"destroy",value:function(){g(v(i.prototype),"destroy",this).call(this),S.removeClass("has-smooth-scroll"),this.parallaxElements=[],this.instance.destroy(),this.scrollbarWrapper.remove(),cancelAnimationFrame(this.raf)}}]),i}(),vt=38,pt=40,mt=32,yt=9,gt=function(t){function e(t){return h(this,e),y(this,v(e).call(this,t))}return f(e,ft),d(e,[{key:"init",value:function(){var e=this;document.documentElement.classList.add("has-smooth-scroll"),this.instance=new rt({mouseMultiplier:-1<navigator.platform.indexOf("Win")?1:.4,touchMultiplier:4,firefoxMultiplier:30,useKeyboard:!1}),this.inertia=.1*this.inertia,this.instance.scroll={x:0,y:0,direction:null},this.instance.delta={x:0,y:0,direction:null},this.getSpeed&&(this.instance.scroll.speed=0),this.instance.on(function(t){e.isTicking||e.isDraggingScrollBar||(requestAnimationFrame(function(){e.isScrolling||(e.isScrolling=!0,e.checkScroll(),C.classList.add(e.isScrollingClassName)),window.app.preventScroll||window.app.menuOpen||(e.instance.delta.y-=t.deltaY,e.instance.delta.direction=0<t.deltaY?"up":"down"),window.app.preventScroll&&(e.instance.delta.direction=0<t.deltaY?"up":"down"),e.instance.delta.y<0&&(e.instance.delta.y=0),e.instance.delta.y>e.instance.limit&&(e.instance.delta.y=e.instance.limit)}),e.isTicking=!0),e.isTicking=!1}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.events(),this.preloadImages(),this.timestamp=Date.now(),this.checkKey=this.checkKey.bind(this),window.addEventListener("keydown",this.checkKey,!1),this.render()}},{key:"addElements",value:function(){var i=this;this.animatedElements=[],this.parallaxElements=[];for(var n=0;n<this.sections.length;n++)for(var t=this.sections[n].element.querySelectorAll(this.selector),e=(t.length,0);e<t.length;e++){var s=t[e];TweenMax.set(s,{clearProps:"transform"});var o=!!s.getAttribute("data-speed")&&s.getAttribute("data-speed")/10,r=(s.getAttribute("data-position"),s.getAttribute("data-target")),a=(s.getAttribute("data-horizontal"),"string"==typeof s.getAttribute("data-sticky")),l=s.getAttribute("data-sticky-target"),c=r&&document.querySelector(r)&&document.querySelector(r).length?document.querySelector(r):s,h=void 0,u=(h=this.sections[n].inView?parseInt(c.getBoundingClientRect().top+this.instance.scroll.y):parseInt(c.getBoundingClientRect().top-this.getTranslate(this.sections[n].element).y))+c.offsetHeight,d=null;"string"==typeof s.getAttribute("data-viewport-offset")&&(d=s.getAttribute("data-viewport-offset").split(","));var f="string"==typeof s.getAttribute("data-callback")?s.getAttribute("data-callback"):null,v=null;if(null!=f){for(var p=f.substr(0,f.indexOf("(")),m=f.substr(f.indexOf("("),f.length-p.length),y=(m=(m=m.replace("(","")).replace(")","")).split("|"),g={},w=0;w<y.length;w++){var k=y[w].split(":");k[0]=k[0].replace(" ","");var b=void 0;b="true"===k[1]||"false"!==k[1]&&(/^\d+$/.test(k[1])?parseInt(k[1]):k[1]),g[k[0]]=b}v={event:p,options:g}}var T="string"==typeof s.getAttribute("data-repeat"),E="string"==typeof s.getAttribute("data-inview-class")?s.getAttribute("data-inview-class"):"is-show";!r&&s.getAttribute("data-transform")&&(h-=parseInt(JSON.parse(s.getAttribute("data-transform")).y),u=h+c.offsetHeight),a&&(l&&null!=l?document.querySelectorAll(l).length&&function(){var e=I(document.querySelector(l),".js-section");if(e){var t=i.sections.find(function(t){return t.element==e});u=t.inView?document.querySelector(l).getBoundingClientRect().top-s.offsetHeight+i.instance.scroll.y:document.querySelector(l).getBoundingClientRect().top-s.offsetHeight-i.getTranslate(i.sections[n].element).y}else u=document.querySelector(l).getBoundingClientRect().top-s.offsetHeight+i.instance.scroll.y}():u=1/0);var L={element:s,inViewClass:E,limit:u,offset:Math.round(h),repeat:T,callback:v,viewportOffset:d};if(!1!==o){var C=s.getAttribute("data-position"),S="string"==typeof s.getAttribute("data-horizontal"),A=(u-h)/2+h,x=s.getAttribute("data-delay");L.horizontal=S,L.middle=A,L.offset=h,L.position=C,L.speed=o,L.delay=x,this.parallaxElements.push(L)}else L.sticky=a,this.animatedElements.push(L),a&&this.toggleElement(L)}}},{key:"getTranslate",value:function(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),n=i.transform||i.webkitTransform||i.mozTransform;if(n){var s=n.match(/^matrix3d\((.+)\)$/);if(s)return parseFloat(s[1].split(", ")[13]);s=n.match(/^matrix\((.+)\)$/),e.x=s?parseFloat(s[1].split(", ")[4]):0,e.y=s?parseFloat(s[1].split(", ")[5]):0}return e}}},{key:"checkKey",value:function(t){var e=this;switch(t.keyCode){case yt:setTimeout(function(){document.documentElement.scrollTop=0,document.body.scrollTop=0,document.activeElement instanceof HTMLBodyElement||e.scrollTo({targetElem:document.activeElement,targetOffset:-window.innerHeight/2})},0);break;case vt:document.activeElement instanceof HTMLBodyElement&&(this.instance.delta.y-=240);break;case pt:document.activeElement instanceof HTMLBodyElement&&(this.instance.delta.y+=240);break;case mt:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(t.shiftKey?this.instance.delta.y-=window.innerHeight:this.instance.delta.y+=window.innerHeight);break;default:return}this.instance.delta.y<0&&(this.instance.delta.y=0),this.instance.delta.y>this.instance.limit&&(this.instance.delta.y=this.instance.limit),this.isScrolling=!0,this.checkScroll()}},{key:"render",value:function(t,e){this.isScrolling?this.instance.scroll.y=U(this.instance.scroll.y,this.instance.delta.y,this.inertia):this.isDraggingScrollBar&&(this.instance.scroll.y=U(this.instance.scroll.y,this.instance.delta.y,.2));for(var i=this.sections.length-1;0<=i;i--)this.sections[i].persistent||this.instance.scroll.y>this.sections[i].offset&&this.instance.scroll.y<this.sections[i].limit?(this.transform(this.sections[i].element,0,-this.instance.scroll.y),this.sections[i].element.style.visibility="visible"):this.sections[i].element.style.visibility="hidden";this.getDirection&&(this.instance.scroll.direction=this.instance.delta.direction),this.getSpeed&&(this.instance.delta.y!==this.instance.scroll.y?(this.instance.scroll.speed=(this.instance.delta.y-this.instance.scroll.y)/(Date.now()-this.timestamp),this.instance.delta.y=this.instance.delta.y):this.instance.scroll.speed=0),this.transformElements(t),this.animateElements(),this.callbacks.onScroll(this.instance),this.timestamp=Date.now();var n=this.instance.scroll.y/this.instance.limit*this.scrollBarLimit;this.transform(this.scrollbar,0,n),this.hasScrollTicking=!1}},{key:"destroy",value:function(){window.removeEventListener("keydown",this.checkKey,!1),g(v(e.prototype),"destroy",this).call(this)}}]),e}(),wt=function(){function e(t){h(this,e),this.options=t,this.smooth=t.smooth||q.smooth,this.smoothMobile=t.smoothMobile||q.smoothMobile,this.mobileContainer=t.mobileContainer||q.mobileContainer,this.isMobile=!1,this.init()}return d(e,[{key:"init",value:function(){var t=this;S[0].scrollTop=0,A[0].scrollTop=0,this.smoothMobile||(this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),this.instance=!0!==t.smooth||t.isMobile?(t.mobileContainer&&(t.options.container=t.mobileContainer),new W(t.options)):new gt(t.options),this.instance.init();var e=$(".js-scrollto-on-load").first();1===e.length&&E.triggerHandler({type:"Event.SCROLLTO",options:{targetElem:e}})}},{key:"destroy",value:function(){this.instance.destroy()}}]),e}(),kt=function(t){function e(){return h(this,e),y(this,v(e).apply(this,arguments))}return f(e,wt),d(e,[{key:"init",value:function(){var t=this;S[0].scrollTop=0,A[0].scrollTop=0,this.smoothMobile||(this.isMobile=x),this.instance=!0!==t.smooth||t.isMobile?(t.mobileContainer&&(t.options.container=t.mobileContainer),new W(t.options)):new gt(t.options),this.instance.init();var e=$(".js-scrollto-on-load").first();1===e.length&&E.triggerHandler({type:"Event.SCROLLTO",options:{targetElem:e}})}}]),e}(),bt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).isMain=R(e.data("main")),e.isTop=!1,document.documentElement.classList.add("is-top"),window.app.scroll={x:0,y:0},e.images=Array.from(e.el.querySelectorAll("img")).filter(function(t){return!t.complete}),e}return f(i,o),d(i,[{key:"init",value:function(){var i=this;this.scroll=new kt({container:$(this.el),smooth:!0,inertia:1,getDirection:!0,onScroll:function(t){if(t&&t.scroll&&("down"==t.scroll.direction?C.classList.add("is-scrolling-down"):C.classList.remove("is-scrolling-down"),i.scroll)){var e=t.scroll.y;i.scroll.instance&&i.scroll.instance.instance&&i.scroll.instance.instance.delta&&(e=i.scroll.instance.instance.delta.y),i.isTop||0!=e?i.isTop&&0<e&&(i.isTop=!1,document.documentElement.classList.remove("is-top")):(i.isTop=!0,document.documentElement.classList.add("is-top")),i.isMain&&(window.app.scroll.direction=t.scroll.direction,window.app.scroll.y=t.scroll.y,E.triggerHandler({type:z.SCROLLING})),window.app.hasIntro&&i.isMain&&!window.app.introScrollRequested&&0==e&&"up"==t.scroll.direction&&i.call("enableScroll",500,"Intro")}}});var t=this,e=!0,n=!1,s=void 0;try{for(var o,r=this.images[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=o.value;this.onImageLoad=function(){requestAnimationFrame(t.update.bind(t)),t.update(),this.removeEventListener("load",this.onImageLoad)},a.addEventListener("load",this.onImageLoad)}}catch(t){n=!0,s=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw s}}this.onUiDarkTrigger=function(t){null!=t.options.direction?window.app.scroll.direction===t.options.direction&&t.way===t.options.way&&(document.documentElement.classList.remove("has-white-logo"),document.documentElement.classList.remove("has-dark-header")):(document.documentElement.classList.remove("has-white-logo"),document.documentElement.classList.remove("has-dark-header"))},E.on(z.TRIGGER_UI_DARK,this.onUiDarkTrigger),this.onUiLightTrigger=function(t){null!=t.options.direction?window.app.scroll.direction===t.options.direction&&t.way===t.options.way&&(document.documentElement.classList.add("has-white-logo"),document.documentElement.classList.add("has-dark-header")):(document.documentElement.classList.add("has-white-logo"),document.documentElement.classList.add("has-dark-header"))},E.on(z.TRIGGER_UI_LIGHT,this.onUiLightTrigger)}},{key:"scrollTo",value:function(t){this.scroll.instance.scrollTo(t)}},{key:"update",value:function(){this.scroll.instance.update(),E.triggerHandler({type:z.SCROLLING})}},{key:"destroy",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,s=this.images[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){n.value.removeEventListener("load",this.onImageLoad)}}catch(t){e=!0,i=t}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}E.off(z.TRIGGER_UI_DARK,this.onUiDarkTrigger),E.off(z.TRIGGER_UI_LIGHT,this.onUiLightTrigger),this.scroll.destroy()}}]),i}(),Tt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).events={click:"toggleMenu"},e}return f(i,o),d(i,[{key:"toggleMenu",value:function(){this.call("toggle",null,"Nav")}}]),i}(),Et=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).active=!1,e.dot=e.$("dot"),e}return f(i,o),d(i,[{key:"init",value:function(){var t=this;this.initTl(),setInterval(function(){Math.random()<.2&&t.jump()},500),this.jumpBind=this.jump.bind(this),this.el.addEventListener("mouseenter",this.jumpBind)}},{key:"initTl",value:function(){var t=this,e={x:0,y:0,z:0,sX:1,sY:1,sZ:1};this.tl=new TimelineMax({repeat:0,repeatDelay:1,onUpdate:function(){TweenMax.set(t.dot,{transform:"translate3d(".concat(e.x,"px,").concat(e.y,"px,").concat(e.z,"px) scale3d(").concat(e.sX,",").concat(e.sY,",").concat(e.sZ,")")})},onComplete:function(){t.active=!1}});this.tl.fromTo(e,.1,{sY:1},{sY:.5,ease:Power2.easeInOut}),this.tl.to(e,.1,{sY:2,ease:Power2.easeOut}),this.tl.addLabel("pre"),this.tl.to(e,.25,{y:-100,sY:1,ease:Power2.easeOut},"pre"),this.tl.addLabel("mid"),this.tl.to(e,.25,{y:0,sY:2,ease:Power2.easeIn},"mid"),this.tl.to(e,.1,{sY:.5,ease:Power2.easeOut}),this.tl.addLabel("post"),this.tl.to(e,.1,{sY:1,ease:Power2.easeInOut},"post"),this.tl.pause()}},{key:"jump",value:function(){this.active||(this.active=!0,this.tl.progress(0),this.tl.play())}},{key:"destroy",value:function(){this.el.removeEventListener("mouseenter",this.jumpBind)}}]),i}(),Lt=.75,Ct=["left","middle","right"],St=function(t){function r(t){var i;h(this,r),i=y(this,v(r).call(this,t)),window.app.hasIntro=!0,window.app.preventScroll=!0,i.skip=!1;var e=window.localStorage.getItem("bornandbred.intro");e&&e.length&&(e=JSON.parse(e),i.skip=e.skip),i.skip?i.el.classList.add("has-no-tutorial"):i.el.classList.remove("has-no-tutorial"),i.events={click:"continue"},i.animatedLine={};for(var n=0,s=Ct;n<s.length;n++){var o=s[n];i.animatedLine[o]={el:i.$(o),target:i.$(o+"Target")}}return i.initLines=i.$("initLine"),i.lines=i.$("line"),i.textBasis=i.$("textBasis"),i.overlay=i.$("overlay"),i.overlayBgCols=i.$("overlay-bg-col"),i.overlayText=i.$("overlay-text"),i.overlayProgress=i.$("overlay-progress"),i.tutorial=i.$("tutorial"),i.swipeIcon=i.$("swipeIcon"),i.videoWrapper=i.$("video-wrapper"),i.videoText=i.$("video-text"),i.videoSrc=i.data("src",i.videoWrapper),i.video=document.createElement("video"),i.video.preload="all",i.video.autoplay=!0,i.video.muted=!0,i.video.playsinline=!0,i.video.loop=!0,i.video.setAttribute("preload","all"),i.video.setAttribute("autoplay",""),i.video.setAttribute("muted",""),i.video.setAttribute("playsinline",""),i.video.setAttribute("loop",""),i.video.innerHTML='<source src="'.concat(i.videoSrc,'" type="video/mp4">'),i.videoWrapper.prepend(i.video),i.contentCols=i.$("contentCol"),i.contentColsInner=i.$("contentColInner"),i.contentColsSplit=new SplitText(i.contentColsInner,{type:"lines"}),i.circle=i.$("circle"),i.circleWrapper=i.$("circleWrapper"),i.circleInner=i.$("circleInner"),i.circleOuter=i.$("circleOuter"),i.start().then(function(){if(i.compute(),i.ready=!0,i.videoLoadBind=i.compute.bind(m(i)),i.video.addEventListener("loadedmetadata",i.videoLoadBind),i.manageSwipe(),i.skip)i.timeout=setTimeout(function(){i.continue()},500);else{i.progressTw=TweenMax.fromTo(i.overlayProgress,5,{opacity:1,scaleX:0},{scaleX:1,ease:Linear.easeNone}),i.timeout=setTimeout(function(){i.continue()},5e3)}}),i.highlightMouseEnter=function(t){var e=i.data("id",t.target);i.call("show",t,"Intromask",e)},i.highlightMouseLeave=function(t){var e=i.data("id",t.target);i.call("hide",t,"Intromask",e)},i.onWheelBind=function(t){0<t.deltaY&&i.continue()},document.addEventListener("wheel",i.onWheelBind),i.overlay.style.height=window.innerHeight+"px",i.onResizeBind=function(){i.overlay.style.height=window.innerHeight+"px",i.compute()},window.addEventListener("resize",i.onResizeBind),i}return f(r,o),d(r,[{key:"start",value:function(){var i=this;return new Promise(function(t){i.initTl=new TimelineMax({onComplete:function(){t()}});for(var e=i.initLines.length-1;0<=e;e--)i.initTl.fromTo(i.initLines[e],Lt,{y:100*(e+1)+"%",opacity:0,force3D:!0,ease:Power2.easeOut},{y:"0%",opacity:1},e*Lt/10)})}},{key:"compute",value:function(){this.viewport={width:window.innerWidth,height:window.innerHeight};var t,e,i,n,s=this.videoWrapper.getBoundingClientRect(),o=s.width/s.height,r=this.video.videoWidth/this.video.videoHeight;o<r?(t="0px",i="100%",n="auto",e=-(s.height*r-s.width)/2+"px"):(e="0px",i="auto",n="100%",t=-(s.width*(1/r)-s.height)/2+"px");TweenMax.set(this.video,{top:t,left:e,width:n,height:i}),this.scrollSize=this.viewport.width/2;for(var a=0,l=Ct;a<l.length;a++){var c=l[a];this.animatedLine[c].elBCR=this.animatedLine[c].el[0].getBoundingClientRect(),this.animatedLine[c].targetBCR=this.animatedLine[c].target[0].getBoundingClientRect(),this.animatedLine[c].offset={x:this.animatedLine[c].targetBCR.left+this.animatedLine[c].targetBCR.width/2-(this.animatedLine[c].elBCR.left+this.animatedLine[c].elBCR.width/2),y:this.animatedLine[c].targetBCR.top+this.animatedLine[c].targetBCR.height/2-(this.animatedLine[c].elBCR.top+this.animatedLine[c].elBCR.height/2)},this.animatedLine[c].scaleFactor=this.animatedLine[c].targetBCR.width/this.animatedLine[c].elBCR.width}}},{key:"continue",value:function(){var f=this;if(this.ready&&!this.continued){if(this.continued=!0,clearTimeout(this.timeout),window.localStorage.setItem("bornandbred.intro",JSON.stringify({skip:!0})),this.panManager&&this.killSwipe(),this.progressTw&&this.progressTw.kill&&this.progressTw.kill(),this.progressTw=TweenMax.to(this.overlayProgress,.375,{scaleX:1,opacity:0}),this.tl=new TimelineMax({onComplete:function(){if(!f.destroying){f.contentColsSplit.revert(),f.underline=f.$("underline"),f.highlights=f.$("highlight");for(var t=0,e=Array.from(f.highlights);t<e.length;t++){var i=e[t];i.addEventListener("mouseenter",f.highlightMouseEnter),i.addEventListener("mouseleave",f.highlightMouseLeave)}for(var n=0,s=function(){var t=r[o];setTimeout(function(){t.classList.add("is-show")},100*n),n++},o=0,r=[f.underline].concat(w(Array.from(f.highlights)));o<r.length;o++)s();for(var a=function(){var t=c[l];setTimeout(function(){t.classList.add("-highlight")},2e3*n),n++},l=n=0,c=Array.from(f.highlights);l<c.length;l++)a();C.classList.remove("has-intro-active"),f.el.classList.add("-show-final-text");for(var h=0,u=Array.from(f.textBasis);h<u.length;h++){var d=u[h];d.parentNode.removeChild(d)}f.final()}}}),this.tl.addLabel("start",0),this.tl.to(this.lines[0],.375,{y:"-200%",opacity:0,force3D:!0,ease:Power2.easeIn},"start"),this.tl.to(this.lines[1],.375,{y:"-100%",opacity:0,force3D:!0,ease:Power2.easeIn},"start"),x&&this.tl.to(this.initLines[2],.375,{y:"-50%",opacity:0,force3D:!0,ease:Power2.easeIn},"start"),this.tl.to(this.tutorial,Lt,{opacity:0},"start"),x)this.tl.addLabel("step1",.1875);else{for(var t=0,e=Ct;t<e.length;t++){var i=e[t];this.tl.to(this.animatedLine[i].el,Lt,{x:this.animatedLine[i].offset.x,force3D:!0,ease:Power2.easeInOut},"start")}this.tl.addLabel("step1",.375)}var n;if(x)this.tl.addLabel("step2","step1+=0.1875");else{for(var s=n=0,o=Ct;s<o.length;s++){var r=o[s];this.tl.to(this.animatedLine[r].el,Lt,{scale:this.animatedLine[r].scaleFactor,force3D:!0,ease:Power2.easeInOut},"step1+="+.075*n),n++}this.tl.addLabel("step2","step1+=0.375")}if(!x)for(var a=n=0,l=Ct;a<l.length;a++){var c=l[a];this.tl.to(this.animatedLine[c].el,Lt,{y:this.animatedLine[c].offset.y,force3D:!0,ease:Power2.easeInOut},"step2+="+.075*n),n++}for(var h=n=0,u=Array.from(this.overlayBgCols);h<u.length;h++){var d=u[h];this.tl.to(d,Lt,{y:"-100%",force3D:!0,ease:Power2.easeInOut},"step2+="+.05*n),n++}this.tl.staggerFromTo(this.contentColsSplit.lines,.5625,{y:"200%",opacity:0},{y:"0%",opacity:1,ease:Power2.easeOut},.1*Lt,"step2+="+.3*Lt),this.tl.to(this.overlayText,.375,{opacity:0},"step2+=0.375"),this.tl.addCallback(function(){C.classList.remove("has-intro-dark"),x&&C.classList.remove("has-intro-light-logo")},"step2+="+.8*Lt),this.tl.play()}}},{key:"final",value:function(){var e=this;if(!this.destroying)if(x)this.enableScroll();else{this.finalOnce?(this.scrollTl.master.kill(),this.scrollTl.secondary.kill(),TweenMax.set([this.contentCols,this.videoWrapper,this.videoText],{clearProps:"all"}),TweenMax.set(this.video,{clearProps:"transform"})):this.scrollTl={master:null,secondary:null},this.scrollTl.secondary=new TimelineMax({}),this.scrollTl.secondary.to(this.contentCols,1,{x:"-200%",ease:Linear.easeNone},0),this.scrollTl.secondary.pause();var t={value:.2};this.scrollTl.master=new TimelineMax({onUpdate:function(){TweenMax.set(e.circle,{scale:t.value}),TweenMax.set(e.circleOuter,{scale:1/t.value})}}),this.scrollTl.master.to(this.videoWrapper,1,{x:-this.viewport.width/2,ease:Linear.easeNone},0),this.scrollTl.master.to(this.videoText,1,{x:this.viewport.width/2,ease:Linear.easeNone},0),this.scrollTl.master.to(this.video,1,{x:this.viewport.width/4,scale:1.5,ease:Linear.easeNone},0),this.scrollTl.master.set(this.circle,{opacity:1},0),this.scrollTl.master.set(this.circleWrapper,{y:.1*this.viewport.height},0),this.scrollTl.master.set(this.circleInner,{y:.1*-this.viewport.height},0),this.scrollTl.master.fromTo(t,1,{value:.2},{value:1,ease:Linear.easeNone},0),this.scrollTl.master.fromTo(this.circleWrapper,1,{x:1.5*this.viewport.width},{x:.66*this.viewport.width,force3D:!0,ease:Linear.easeNone},0),this.scrollTl.master.fromTo(this.circleInner,1,{x:1.5*-this.viewport.width},{x:.66*-this.viewport.width,ease:Linear.easeNone},0),this.scrollTl.master.pause(),this.scrollDelta?this.scrollActive||(this.scrollDelta.y=this.scrollSize):this.scrollDelta={x:0,y:0},this.scrollValue?this.scrollActive||(this.scrollValue.y=this.scrollSize):this.scrollValue={x:0,y:0},this.finalOnce||(this.scroll=new rt({mouseMultiplier:-1<navigator.platform.indexOf("Win")?1:.4,touchMultiplier:4,firefoxMultiplier:30}),this.scrollBind=function(t){requestAnimationFrame(function(){e.scrollActive&&(e.scrollDelta.y-=t.deltaY,e.scrollDelta.y<0?e.scrollDelta.y=0:e.scrollDelta.y>=e.scrollSize&&(e.scrollDelta.y=e.scrollSize,e.disableScroll(100)))})},this.scroll.on(this.scrollBind),this.update(),this.enableScroll()),this.finalOnce=!0,this.finalResizeBind=function(){window.removeEventListener("resize",e.finalResizeBind),e.final()},window.addEventListener("resize",this.finalResizeBind)}}},{key:"enableScroll",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;clearTimeout(this.disableScrollTimeout),window.app.preventScroll=!0,window.app.introScrollRequested=!0,this.enableScrollTimeout=setTimeout(function(){t.scrollActive=!0},e)}},{key:"disableScroll",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;clearTimeout(this.enableScrollTimeout),this.scrollActive=!1,this.disableScrollTimeout=setTimeout(function(){window.app.preventScroll=!1,requestAnimationFrame(function(){requestAnimationFrame(function(){window.app.introScrollRequested=!1})})},t)}},{key:"manageSwipe",value:function(){var n,s,o=this;this.swipeTl=new TimelineMax({onComplete:function(){o.continue()}}),this.swipeTl.to(this.swipeIcon,1,{opacity:0,y:"-300%",ease:Linear.easeNone}),this.swipeTl.pause(),this.swipeTl.progress(0),this.panManager=new Hammer.Manager(this.el),this.panManager.add(new Hammer.Pan({direction:Hammer.DIRECTION_VERTICAL,threshold:0})),this.onPanStart=function(t){s=o.swipeTl.progress()},this.panManager.on("panstart",this.onPanStart),this.onPanMove=function(t){var e=t.deltaY/200,i=s-e;i=Math.min(1,Math.max(0,i)),o.swipeTl.progress(i)},this.panManager.on("panstart panmove",this.onPanMove),this.onPanEnd=function(t){if(.4<o.swipeTl.progress()||t.velocityY<-.5){n&&n.kill&&n.kill();var e={value:o.swipeTl.progress()};TweenMax.to(e,.25,{value:1,ease:Power2.easeOut,onUpdate:function(){o.swipeTl.progress(e.value)}}),o.killSwipe()}else{n&&n.kill&&n.kill();var i={value:o.swipeTl.progress()};n=TweenMax.to(i,.5,{value:0,ease:Power2.easeOut,onUpdate:function(){o.swipeTl.progress(i.value)}})}},this.panManager.on("panend",this.onPanEnd)}},{key:"killSwipe",value:function(){this.panManager.off("panstart",this.onPanStart),this.panManager.off("panstart panmove",this.onPanMove),this.panManager.off("panend",this.onPanEnd),this.panManager.destroy(),this.panManager=null}},{key:"update",value:function(){var t;this.scrollDelta.y>=this.scrollValue.y?t="down":this.scrollDelta.y<this.scrollValue.y&&(t="up"),this.scrollValue.y=U(this.scrollValue.y,this.scrollDelta.y,.1);var e=this.scrollValue.y/this.scrollSize;window.isloading||(e<.8?C.classList.add("has-intro-light-logo"):C.classList.remove("has-intro-light-logo")),this.scrollTl.master.progress(e);var i=this.scrollTl.secondary.progress();i=U(i,e,"down"==t?.2:.1),this.scrollTl.secondary.progress(i),this.raf=requestAnimationFrame(this.update.bind(this))}},{key:"destroy",value:function(){if(this.destroying=!0,this.disableScroll(),this.tl&&this.tl.kill&&this.tl.kill(),this.scrollTl&&this.scrollTl.master&&this.scrollTl.master.kill&&this.scrollTl.master.kill(),this.scrollTl&&this.scrollTl.secondary&&this.scrollTl.secondary.kill&&this.scrollTl.secondary.kill(),this.highlights)for(var t=0,e=Array.from(this.highlights);t<e.length;t++){var i=e[t];i.removeEventListener("mouseenter",this.highlightMouseEnter),i.removeEventListener("mouseleave",this.highlightMouseLeave)}this.panManager&&this.killSwipe(),this.scroll&&(window.app.preventScroll=!1,this.scroll.off(this.scrollBind),this.scroll.destroy(),this.scroll=null),this.video.removeEventListener("load",this.videoLoadBind),window.cancelAnimationFrame(this.raf),window.removeEventListener("resize",this.onResizeBind),window.removeEventListener("resize",this.finalResizeBind),document.removeEventListener("wheel",this.onWheelBind),window.app.hasIntro=!1}}]),r}();function At(t){for(var e=t.length-1;0<e;e--){var i=Math.floor(Math.random()*(e+1)),n=[t[i],t[e]];t[e]=n[0],t[i]=n[1]}return t}var xt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).inner=e.$("inner"),e.sentences=e.data("sentences").split(","),e.sentence=e.$("sentence"),e.video=e.$("video"),e}return f(i,o),d(i,[{key:"show",value:function(t){this.el.classList.add("is-active"),this.removeReference(),this.setReference(t.target);var e,i,n,s,o=window.innerWidth,r=window.innerHeight,a=o/r,l=this.video.videoWidth/this.video.videoHeight;a<l?(e="0px",n="100%",s="auto",i=-(r*l-o)/2+"px"):(i="0px",n="auto",s="100%",e=-(o*(1/l)-r)/2+"px");TweenMax.set(this.video,{top:e,left:i,width:s,height:n}),this.video.play(),this.active||(this.active=!0,this.update()),clearTimeout(this.hideTimeout),this.loopSentences()}},{key:"hide",value:function(){var t=this;this.el.classList.remove("is-active"),this.stopLoopSentences(),this.hideTimeout=setTimeout(function(){t.removeReference(),cancelAnimationFrame(t.raf),t.active=!1,t.video.pause()},500)}},{key:"loopSentences",value:function(){var t=this;this.sentences=At(this.sentences);var e=0;this.loopInterval=setInterval(function(){t.sentence.innerText=t.sentences[e%t.sentences.length],e++},1e3)}},{key:"stopLoopSentences",value:function(){clearInterval(this.loopInterval),this.sentence.innerText=""}},{key:"setReference",value:function(t){this.reference=t,this.clone=this.reference.cloneNode(!0),this.style=window.getComputedStyle(this.reference,null),this.clone.classList.remove("-highlight"),this.clone.classList.remove("-show-inview"),this.clone.classList.remove("is-show"),TweenMax.set(this.clone,{position:"absolute",top:0,left:0,fontFamily:this.style.getPropertyValue("font-family"),fontSize:this.style.getPropertyValue("font-size"),lineHeight:this.style.getPropertyValue("line-height"),fontWeight:this.style.getPropertyValue("font-weight"),color:"#fff"}),this.inner.appendChild(this.clone)}},{key:"removeReference",value:function(){this.reference=null,this.clone&&this.clone.parentNode&&this.clone.parentNode.removeChild(this.clone),this.clone=null}},{key:"update",value:function(){this.referenceBCR=this.reference.getBoundingClientRect(),TweenMax.set(this.clone,{x:this.referenceBCR.left,y:this.referenceBCR.top}),this.active&&(this.raf=requestAnimationFrame(this.update.bind(this)))}},{key:"destroy",value:function(){this.stopLoopSentences(),this.removeReference(),cancelAnimationFrame(this.raf)}}]),i}(),Mt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).events={mouseenter:"launch"},e.$emojied=e.$("emojied"),e}return f(i,o),d(i,[{key:"launch",value:function(){for(var e=0,t=function(){var t=n[i];setTimeout(function(){t.classList.add("is-active")},100*e),e++},i=0,n=Array.from(this.$emojied);i<n.length;i++)t()}}]),i}(),Bt=function(t){function i(t){var e;return h(this,i),e=y(this,v(i).call(this,t)),x?y(e):(e.onVisibilityChangeBind=function(t){t.target==e.el&&requestAnimationFrame(function(){e.active||"enter"!=t.way?e.active&&"leave"==t.way&&(e.active=!1):(e.compute(),e.initTl(),e.active=!0,e.scrollUpdate())})},E.on("visibility.AnimatedSection",e.onVisibilityChangeBind),e.checkResizeBind=e.checkResize.bind(m(e)),window.addEventListener("resize",e.checkResizeBind),e.scrollUpdateBind=e.scrollUpdate.bind(m(e)),E.on(z.SCROLLING,e.scrollUpdateBind),e)}return f(i,o),d(i,[{key:"init",value:function(){x||this.compute()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(requestAnimationFrame(function(){t.compute(),t.initTl(),t.resizeTick=!1}),this.resizeTick=!0)}},{key:"initTl",value:function(){this.scrollTl&&(this.scrollTl.progress(),this.scrollTl.kill());var t={progress:0};this.scrollTl=new TimelineMax({onUpdate:function(){console.log(t.progress)}}),this.scrollTl.fromTo(t,1,{progress:0},{progress:1}),this.scrollTl.pause(),this.scrollTl.progress(0)}},{key:"compute",value:function(){this.hasSmoothScroll=!1,document.documentElement.classList.contains("has-smooth-scroll")&&(this.hasSmoothScroll=!0),this.BCR=this.el.getBoundingClientRect();var t=this.hasSmoothScroll?window.app.scroll.y:document.scrollingElement?document.scrollingElement.scrollTop:document.documentElement.scrollTop;this.offsetTop=this.BCR.top+t,this.scrollStart=this.offsetTop-window.innerHeight,this.scrollEnd=this.scrollStart+window.innerHeight+this.BCR.height}},{key:"scrollUpdate",value:function(){if(this.active){var t=(window.app.scroll.y-this.scrollStart)/(this.scrollEnd-this.scrollStart);t=Math.max(0,Math.min(1,Math.round(1e3*t)/1e3)),this.scrollTl.progress(t)}}},{key:"destroy",value:function(){E.off(z.SCROLLING,this.scrollUpdateBind),E.off("visibility.AnimatedSection",this.onVisibilityChangeBind),window.removeEventListener("resize",this.checkResizeBind)}}]),i}(),Rt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).$block=e.$("block"),e}return f(i,Bt),d(i,[{key:"initTl",value:function(){this.scrollTl=new TimelineMax({});for(var t=0;t<this.$block.length;t++)this.scrollTl.fromTo(this.$block[t],1,{y:.25*this.BCR.height*t},{y:0,ease:Power1.easeOut},0);this.scrollTl.addCallback(function(){},1),this.scrollTl.pause()}}]),i}(),It=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).secondaryCol=e.$("secondaryCol"),e.$aside=e.$("aside"),e}return f(i,Bt),d(i,[{key:"initTl",value:function(){this.scrollTl=new TimelineMax({}),this.scrollTl.fromTo(this.secondaryCol,1,{y:0},{y:this.secondaryColDiff,ease:Linear.easeNone},0);for(var t=0,e=Array.from(this.$aside);t<e.length;t++){var i=e[t],n=this.parent("infos",i).offsetHeight-i.offsetWidth;this.scrollTl.fromTo(i,1,{y:n},{y:0,ease:Linear.easeNone},0)}this.scrollTl.pause()}},{key:"compute",value:function(){g(v(i.prototype),"compute",this).call(this),TweenMax.set([this.secondaryCol,this.$aside],{clearProps:"all"}),this.scrollEnd=this.scrollStart+this.BCR.height,this.secondaryColBCR=this.secondaryCol.getBoundingClientRect(),this.secondaryColDiff=this.BCR.height-this.secondaryColBCR.height-(this.secondaryColBCR.top-this.BCR.top)}}]),i}(),Ot=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).delay=2e3,e.pairs=At(JSON.parse(e.data("pairs"))),e.first=e.$("first"),e.second=e.$("second"),e}return f(i,o),d(i,[{key:"init",value:function(){var t=this;this.cpt=0,this.interval=setInterval(function(){t.first.innerText=t.pairs[t.cpt%t.pairs.length].first,t.second.innerText=t.pairs[t.cpt%t.pairs.length].second,t.cpt++},this.delay)}},{key:"destroy",value:function(){clearInterval(this.interval)}}]),i}(),Dt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).limit=e.$("limit"),e.inner=e.$("inner"),e.onVisibilityChangeBind=function(t){t.target==e.el&&requestAnimationFrame(function(){e.active||"enter"!=t.way?e.active&&"leave"==t.way&&(cancelAnimationFrame(e.raf),e.active=!1):(e.compute(),e.active=!0,e.scrollUpdate())})},E.on("visibility.Footer",e.onVisibilityChangeBind),e.checkResizeBind=e.checkResize.bind(m(e)),window.addEventListener("resize",e.checkResizeBind),e.scrollUpdateBind=e.scrollUpdate.bind(m(e)),E.on(z.SCROLLING,e.scrollUpdateBind),e}return f(i,o),d(i,[{key:"init",value:function(){this.compute()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(requestAnimationFrame(function(){t.compute(),t.resizeTick=!1}),this.resizeTick=!0)}},{key:"compute",value:function(){this.hasSmoothScroll=!1,document.documentElement.classList.contains("has-smooth-scroll")&&(this.hasSmoothScroll=!0),TweenMax.set(this.inner,{y:0}),this.BCR=this.el.getBoundingClientRect(),this.limitBCR=this.limit.getBoundingClientRect();var t=this.hasSmoothScroll?window.app.scroll.y:document.scrollingElement?document.scrollingElement.scrollTop:document.documentElement.scrollTop;this.offsetTop=this.BCR.top+t,this.offsetLimit=this.limitBCR.top+t,this.offsetDiff=this.offsetLimit-this.offsetTop,this.scrollStart=this.offsetTop-window.innerHeight,this.scrollEnd=this.offsetLimit-window.innerHeight}},{key:"scrollUpdate",value:function(){this.active&&(this.offsetTop-window.app.scroll.y<100?document.documentElement.classList.add("is-over-footer"):document.documentElement.classList.remove("is-over-footer"),window.app.scroll.y>this.scrollStart&&window.app.scroll.y<this.scrollEnd?TweenMax.set(this.inner,{y:-this.offsetDiff+(window.app.scroll.y-this.scrollStart)}):TweenMax.set(this.inner,{y:0}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.checkResizeBind),E.off(z.SCROLLING,this.scrollUpdateBind)}}]),i}(),$t=function(){function s(t,e,i,n){h(this,s),this.el=t,this.isFixed=i,this.containerWidth=0,this.requestAnimation=null,this.scrollPosition=-1,this.translation=0,this.grabbed=!1,this.preventClick=!1,this.paused=n,this.originalVelocity=-e,this.velocity=this.originalVelocity,this.lastDelta=null,this.initializeElements(),this.initializeEvents()}return d(s,[{key:"initializeElements",value:function(){this.$railMove=this.el.querySelectorAll(".js-rail-group-container"),this.$railMoveChildren=this.el.querySelectorAll(".js-rail-item"),this.getBCR()}},{key:"initializeEvents",value:function(){this.update(),this.checkScrollBind=this.updateScroll.bind(this),E.on(z.SCROLLING,this.checkScrollBind)}},{key:"setContainerWidth",value:function(t){this.containerWidth=t}},{key:"getBCR",value:function(){this.railMoveBCR=this.$railMove[0].getBoundingClientRect()}},{key:"updateScroll",value:function(){if(!document.documentElement.classList.contains("is-mobile")&&!this.isFixed){var t=Math.round(window.app.scroll.y)?Math.round(window.app.scroll.y):0,e=t-this.scrollPosition;this.scrollPosition=t,0!=e&&(this.velocity=this.originalVelocity*e)}}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){var t=this;this.paused=!1,this.requestAnimation=requestAnimationFrame(function(){return t.update()})}},{key:"update",value:function(){var t,e=this;this.grabbed||(this.translation>this.railMoveBCR.width/2||this.translation<-this.railMoveBCR.width/2?this.translation=0:this.translation=this.translation+this.velocity),t=0<this.translation?-this.containerWidth+this.translation%this.containerWidth:this.translation%this.containerWidth,TweenMax.set(this.$railMoveChildren,{x:Math.round(t),force3D:!0}),this.paused||(this.requestAnimation=requestAnimationFrame(function(){return e.update()}))}},{key:"destroy",value:function(){E.off(z.SCROLLING,this.checkScrollBind),cancelAnimationFrame(this.requestAnimation),TweenMax.set(this.$railMove,{x:0}),this.translation=0}}]),s}(),Pt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).speed=e.data("speed")||1,e.isFixed="string"==typeof e.data("fixed"),e.shuffle="string"==typeof e.data("shuffle"),e.paused="string"==typeof e.data("paused"),e.initialHTML=e.el.outerHTML,e}return f(i,o),d(i,[{key:"init",value:function(){this.setClasses(),this.createTrack(),this.fillScreen(),this.groupTracks(),this.duplicateGroup(),this.wrapGroups(),this.railMove=new $t(this.el,this.speed,this.isFixed,this.paused),this.railMove.setContainerWidth(this.trackGroupBCR.width)}},{key:"setClasses",value:function(){this.el.classList.add("c-rail_wrapper"),this.children=Array.from(this.el.children);var t=!0,e=!1,i=void 0;try{for(var n,s=this.children[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var o=n.value;o.classList.add("c-rail_item"),o.classList.add("js-rail-item")}}catch(t){e=!0,i=t}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}if(null!=this.shuffle){var r=At(this.children),a=!0,l=!1,c=void 0;try{for(var h,u=r[Symbol.iterator]();!(a=(h=u.next()).done);a=!0){var d=h.value;this.el.appendChild(d)}}catch(t){l=!0,c=t}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}}}},{key:"createTrack",value:function(){this.track=document.createElement("div"),this.track.classList.add("c-rail_track"),this.el.appendChild(this.track),this.tracks=[],this.tracks.push(this.track);var t=!0,e=!1,i=void 0;try{for(var n,s=this.children[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var o=n.value;this.track.appendChild(o)}}catch(t){e=!0,i=t}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}}},{key:"fillScreen",value:function(){var t=window.innerWidth/this.track.getBoundingClientRect().width;if(t===1/0)throw new Error("Ratio is Infinity");for(var e=0;e<t;e++){var i=this.track.cloneNode(!0);this.tracks.push(i),this.el.appendChild(i)}}},{key:"groupTracks",value:function(){this.trackGroup=document.createElement("div"),this.trackGroup.classList.add("c-rail_track-group"),this.el.appendChild(this.trackGroup);var t=!0,e=!1,i=void 0;try{for(var n,s=this.tracks[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var o=n.value;this.trackGroup.appendChild(o)}}catch(t){e=!0,i=t}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}this.trackGroupBCR=this.trackGroup.getBoundingClientRect()}},{key:"duplicateGroup",value:function(){this.trackGroupClone=this.trackGroup.cloneNode(!0),this.el.appendChild(this.trackGroupClone)}},{key:"wrapGroups",value:function(){this.groupsWrap=document.createElement("div"),this.groupsWrap.classList.add("js-rail-group-container"),this.groupsWrap.classList.add("c-rail_group-container"),this.el.append(this.groupsWrap);for(var t=0,e=[this.trackGroup,this.trackGroupClone];t<e.length;t++){var i=e[t];this.groupsWrap.append(i)}}},{key:"destroy",value:function(){g(v(i.prototype),"destroy",this).call(this)}}]),i}(),_t=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).active=!1,e}return f(i,o),d(i,[{key:"init",value:function(){}},{key:"toggle",value:function(){this.active?this.close():this.open()}},{key:"open",value:function(){this.active=!0,this.update()}},{key:"close",value:function(){this.active=!1,this.update()}},{key:"update",value:function(){this.active?C.classList.add("has-menu-opened"):C.classList.remove("has-menu-opened"),this.call("setActive",this.active,"Navdot","nav"),window.app.menuOpen=this.active}}]),i}(),Nt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).active=!1,e.target={x:0,y:0},e.position={x:0,y:0},e}return f(i,o),d(i,[{key:"init",value:function(){}},{key:"setActive",value:function(){1==(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])?this.active||(this.active=!0,this.update()):(cancelAnimationFrame(this.raf),this.active=!1)}},{key:"setTarget",value:function(t){this.target=t.value,t.force&&(this.position=this.target)}},{key:"update",value:function(){this.position.x=U(this.position.x,this.target.x,.1),this.position.y=U(this.position.y,this.target.y,.1),TweenMax.set(this.el,{x:this.position.x,y:this.position.y,force3D:!0}),this.raf=requestAnimationFrame(this.update.bind(this))}}]),i}(),jt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).$links=e.$("link"),e.dotId=e.data("dot"),e}return f(i,o),d(i,[{key:"init",value:function(){var t=this;this.parentBCR=this.el.parentNode.getBoundingClientRect(),this.activeLink=Array.from(this.$links).find(function(t){return t.classList.contains("-active")}),this.updateDot(this.activeLink,!0);for(var e=0,i=Array.from(this.$links);e<i.length;e++){var n=i[e];this.linkFocusBind=this.onLinkFocus.bind(this),n.addEventListener("mouseenter",this.linkFocusBind),n.addEventListener("focus",this.linkFocusBind),this.linkBlurBind=this.onLinkBlur.bind(this),n.addEventListener("mouseleave",this.linkBlurBind),n.addEventListener("blur",this.linkBlurBind)}this.resizeBind=function(){t.resizeTick||(requestAnimationFrame(function(){t.parentBCR=t.el.parentNode.getBoundingClientRect(),t.updateDot(t.activeLink,!0),t.resizeTick=!1}),t.resizeTick=!0)},window.addEventListener("resize",this.resizeBind)}},{key:"onLinkFocus",value:function(t){this.updateDot(t.currentTarget)}},{key:"onLinkBlur",value:function(){this.updateDot(this.activeLink)}},{key:"setDotById",value:function(e){var i=this,t=Array.from(this.$links);this.activeLink&&this.activeLink.classList.remove("-active"),this.activeLink=t.find(function(t){return i.data("id",t)==e}),this.activeLink.classList.add("-active"),this.updateDot(this.activeLink,!0)}},{key:"updateDot",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(t){var i,n=t.parentNode.getBoundingClientRect();i=1200<window.innerWidth?2*(this.parentBCR.left-n.left):this.parentBCR.left-n.left,this.dotId&&this.call("setTarget",{value:{x:n.left+i,y:n.top+n.height/2},force:e},"Navdot",this.dotId)}}},{key:"destroy",value:function(){window.removeEventListener("resize",this.resizeBind)}}]),i}(),Ht=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).$item=e.$("item"),e}return f(i,Bt),d(i,[{key:"initTl",value:function(){this.scrollTl=new TimelineMax({});for(var t=0,e=Array.from(this.$item);t<e.length;t++){var i=e[t],n=R(this.data("from",i)),s=R(this.data("to",i));this.scrollTl.fromTo(i,1,n,Object.assign(s,{ease:Linear.easeNone}),0)}this.scrollTl.pause()}}]),i}(),zt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).zone=e.$("zone"),e.mask=e.$("mask"),e.inner=e.$("inner"),e.bg=e.$("bg"),e.triggerUi=R(e.data("triggerui")),e}return f(i,Bt),d(i,[{key:"initTl",value:function(){var t=this;this.scrollTl&&(this.scrollTl.progress(),this.scrollTl.kill());var e={scale:this.scaleFrom},i="dark";this.scrollTl=new TimelineMax({onUpdate:function(){TweenMax.set(t.mask,{scale:e.scale,force3D:!0}),TweenMax.set(t.inner,{scale:1/e.scale,force3D:!0}),t.triggerUi&&("dark"==i&&.8<=t.scrollTl.progress()?(E.trigger({type:z.TRIGGER_UI_LIGHT,options:{}}),i="light"):"light"==i&&t.scrollTl.progress()<.8&&(E.trigger({type:z.TRIGGER_UI_DARK,options:{}}),i="dark"))}}),this.scrollTl.fromTo(e,1,{scale:this.scaleFrom},{scale:this.scaleTo,ease:Linear.easeNone},0),this.scrollTl.fromTo(this.bg,1,{y:"-100%"},{y:"0%",force3D:!0,ease:Linear.easeNone},0),this.scrollTl.pause(),this.scrollTl.progress(0)}},{key:"compute",value:function(){this.viewport={w:window.innerWidth,h:window.innerHeight},this.hasSmoothScroll=!1,document.documentElement.classList.contains("has-smooth-scroll")&&(this.hasSmoothScroll=!0),TweenMax.set([this.mask,this.inner],{clearProps:"all"}),this.BCR=this.zone.getBoundingClientRect();var t=this.hasSmoothScroll?window.app.scroll.y:document.scrollingElement?document.scrollingElement.scrollTop:document.documentElement.scrollTop;this.offsetTop=this.BCR.top+t,this.scrollStart=this.offsetTop-window.innerHeight,this.scrollEnd=this.scrollStart+this.BCR.height,this.scrollDiff=this.scrollEnd-this.scrollStart,this.scaleFrom=window.innerWidth>window.innerHeight?window.innerHeight/window.innerWidth:window.innerWidth/window.innerHeight,this.scaleTo=Math.sqrt(Math.pow(this.viewport.w,2)+Math.pow(this.viewport.h,2))/this.viewport.w}}]),i}(),qt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).slider=e.$("slider"),e.prev=e.$("prev"),e.next=e.$("next"),e}return f(i,o),d(i,[{key:"init",value:function(){var t={speed:800,loop:!0,loopedSlides:2,spaceBetween:200,grabCursor:!0,slideToClickedSlide:!0,breakpoints:{1200:{spaceBetween:100},700:{spaceBetween:40}},navigation:{nextEl:this.next,prevEl:this.prev}};this.carousel=new Swiper(this.slider,t)}},{key:"destroy",value:function(){this.carousel.destroy()}}]),i}(),Wt=function(t){function s(t){var e;h(this,s),(e=y(this,v(s).call(this,t))).events={click:{item:"onItemClick"}},e.$items=e.$("item"),e.onItemEnterBind=e.onItemEnter.bind(m(e));for(var i=0,n=Array.from(e.$items);i<n.length;i++){n[i].addEventListener("mouseenter",e.onItemEnterBind)}return e.onLeaveBind=e.onLeave.bind(m(e)),e.el.addEventListener("mouseleave",e.onLeaveBind),e}return f(s,o),d(s,[{key:"init",value:function(){}},{key:"onItemEnter",value:function(t){this.call("showById",{id:this.data("id",t.currentTarget),odd:Array.from(t.currentTarget.parentNode.children).indexOf(t.currentTarget)%2==1},"Teammodal")}},{key:"onLeave",value:function(t){this.call("showById",{id:!1},"Teammodal")}},{key:"onItemClick",value:function(t){this.call("open",null,"Teammodal")}},{key:"destroy",value:function(){for(var t=0,e=Array.from(this.$items);t<e.length;t++){var i=e[t];i.removeEventListener("mouseenter",this.onItemEnterBind),i.removeEventListener("mouseleave",this.onItemLeaveBind)}}}]),s}(),Ut=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).events={click:{next:"next",prev:"prev",close:"close"}},e.$faces=e.$("face"),e.$wallpapers=e.$("wallpaper"),e.$contents=e.$("content"),e.imageLoads=[],e}return f(i,o),d(i,[{key:"init",value:function(){}},{key:"showById",value:function(t){var s=this;!t.id&&this.isOpened||(this.targetId=t.id,this.targetReversed=null!=t.odd?!t.odd:this.targetReversed,this.changeRequested||(this.changeRequested=!0,this.hidePromise=new Promise(function(t){var e=Array.from(s.$faces).find(function(t){return t.classList.contains("is-active")}),i=Array.from(s.$wallpapers).find(function(t){return t.classList.contains("is-active")}),n=Array.from(s.$contents).find(function(t){return t.classList.contains("is-active")});e&&e.classList.remove("is-active"),i&&i.classList.remove("is-active"),n&&n.classList.remove("is-active"),setTimeout(t,250)}).then(function(){s.targetReversed?s.el.classList.add("is-reversed"):s.el.classList.remove("is-reversed");var t=Array.from(s.$faces).find(function(t){return s.data("id",t)==s.targetId}),e=Array.from(s.$wallpapers).find(function(t){return s.data("id",t)==s.targetId}),i=Array.from(s.$contents).find(function(t){return s.data("id",t)==s.targetId}),n=s.data("emoji",i);s.call("setTexture",n,"Rainmoji","team-modal"),t&&t.classList.add("is-active"),e&&e.classList.add("is-active"),i&&i.classList.add("is-active"),t&&e&&(t.classList.contains("is-loaded")||s.loadAsset(t),e.classList.contains("is-loaded")||s.loadAsset(e)),s.changeRequested=!1})))}},{key:"loadAsset",value:function(t){var e=this;this.el.classList.add("is-loading-members");var i=this.data("img",t),n=new Image;this.imageLoads.push(n);var s=function(){t.style.backgroundImage="url('".concat(i,"')"),t.classList.add("is-loaded"),e.imageLoads=e.imageLoads.filter(function(t){return t!==n}),e.imageLoads.length||e.el.classList.remove("is-loading-members")};n.decode?(n.src=i,n.decode().then(s).catch(function(t){console.error(t)})):(n.onload=s,n.src=i)}},{key:"next",value:function(){this.showById({id:this.getPosition().nextId,odd:!this.targetReversed})}},{key:"prev",value:function(){this.showById({id:this.getPosition().prevId,odd:!this.targetReversed})}},{key:"getPosition",value:function(){var t=Array.from(this.$contents).find(function(t){return t.classList.contains("is-active")}),e=this.data("id",t),i=t.nextElementSibling?t.nextElementSibling:t.parentNode.children[0],n=this.data("id",i),s=t.previousElementSibling?t.previousElementSibling:t.parentNode.children[t.parentNode.children.length-1];return{currentId:e,nextId:n,prevId:this.data("id",s)}}},{key:"open",value:function(){this.isOpened=!0,this.el.classList.add("is-opened"),this.call("setActive",!0,"Rainmoji","team-modal")}},{key:"close",value:function(){this.el.classList.remove("is-opened"),this.isOpened=!1,this.showById({id:!1,odd:!this.targetReversed}),this.call("setActive",!1,"Rainmoji","team-modal")}}]),i}(),Ft=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).active=!1,e.auto=R(e.data("auto")),e.defaultTexture=R(e.data("texture")),e.amount=R(e.data("amount"))||100,e.dropRatio=R(e.data("drop-ratio"))||.005,(!e.defaultTexture||e.defaultTexture&&!e.defaultTexture.length)&&(e.defaultTexture="/assets/images/emojis/u1F60E.png"),e.textures=[],e}return f(i,o),d(i,[{key:"init",value:function(){var e=this;this.BCR=this.el.getBoundingClientRect(),this.setup(),this.setTexture(this.defaultTexture),this.populate(),this.pixi.ticker.add(function(){for(var t=0;t<e.items.length;t++)e.active&&!e.items[t].active&&Math.random()<e.dropRatio&&(e.items[t].texture=e.texture,e.items[t].active=!0,e.items[t].width=32,e.items[t].height=32),e.items[t].active&&(e.items[t].y>e.BCR.height&&e.resetItem(e.items[t]),e.items[t].speed=U(e.items[t].speed,5,.02),e.items[t].y+=e.items[t].speed,e.items[t].rotatingSpeed=U(e.items[t].rotatingSpeed,e.items[t].rotatingSpeedTarget,.02),e.items[t].rotation+=e.items[t].rotatingSpeed)}),this.resizeBind=this.resize.bind(this),window.addEventListener("resize",this.resizeBind),this.auto&&null!=this.defaultTexture&&(this.setActive(this.auto),this.setTexture(this.defaultTexture))}},{key:"resize",value:function(){this.BCR=this.el.getBoundingClientRect(),this.pixi.resize(this.BCR.width,this.BCR.height)}},{key:"setup",value:function(){PIXI.utils.skipHello(),this.pixi=new PIXI.Application({width:this.BCR.width,height:this.BCR.height,transparent:!0,resolution:window.devicePixelRatio||1,resizeTo:this.el}),this.el.appendChild(this.pixi.view)}},{key:"populate",value:function(){this.items=[];for(var t=0;t<this.amount;t++){var e=new PIXI.Sprite(this.texture);e.width=32,e.height=32,e.anchor.set(.5),e.scale.set(.5),this.resetItem(e),this.items.push(e),this.pixi.stage.addChild(e)}}},{key:"setTexture",value:function(t){try{this.textures[t]||(this.textures[t]=PIXI.Texture.from(t)),this.texture=this.textures[t]}catch(t){console.error(t)}}},{key:"setActive",value:function(t){this.active=t}},{key:"resetItem",value:function(t){t.x=Math.random()*this.BCR.width,t.y=-64,t.rotation=Math.random()*Math.PI,t.speed=0,t.rotatingSpeed=0,t.rotatingSpeedTarget=(Math.random()-.5)/10,t.active=!1,t.tint=16777215}},{key:"destroy",value:function(){this.pixi.destroy({children:!0}),window.removeEventListener("resize",this.resizeBind)}}]),i}(),Vt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).events={click:{toggle:"toggle"}},e}return f(i,o),d(i,[{key:"toggle",value:function(t){var e=this,i=t.currentTarget.parentNode,n=this.$("content",i);if(i.classList.contains("is-active"))TweenMax.to(n,.5,{height:0,ease:Power2.easeOut,onComplete:function(){n.style.display="",e.call("update",null,"Scroll")}}),i.classList.remove("is-active");else{i.classList.add("is-active"),n.style.height="",n.style.display="block";var s=n.getBoundingClientRect();TweenMax.fromTo(n,.5,{height:0},{height:s.height,ease:Power2.easeOut,onComplete:function(){e.call("update",null,"Scroll")}})}}},{key:"scrollTo",value:function(t){var e={targetElem:t,targetOffset:1e3<window.innerWidth?-100:-160};this.call("scrollTo",e,"Scroll")}},{key:"closeAll",value:function(){for(var t=function(){var t=i[e];t.parentNode.classList.contains("is-active")&&(TweenMax.to(t,.5,{height:0,ease:Power2.easeOut,onComplete:function(){t.style.display=""}}),t.parentNode.classList.remove("is-active"))},e=0,i=Array.from(this.$("content"));e<i.length;e++)t()}}]),i}(),Yt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).slider=e.$("slider"),e}return f(i,o),d(i,[{key:"init",value:function(){this.swiper=new Swiper(this.slider,{grabCursor:!0,slideToClickedSlide:!0})}},{key:"destroy",value:function(){this.swiper.destroy(),this.swiper=null}}]),i}(),Gt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).split=new SplitText(e.el,{type:"lines",linesClass:"c-line-by-line_line"}),e}return f(i,o),d(i,[{key:"init",value:function(){var t=this;this.onResizeBind=function(){t.split.split({type:"lines"})},window.addEventListener("resize",this.onResizeBind)}},{key:"destroy",value:function(){window.removeEventListener("resize",this.onResizeBind)}}]),i}(),Xt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).events={click:{head:"toggle",link:"choose"}},e.current=e.$("current"),e}return f(i,o),d(i,[{key:"toggle",value:function(){this.el.classList.toggle("is-open")}},{key:"choose",value:function(t){this.el.classList.remove("is-open"),this.current.innerHTML=t.currentTarget.innerHTML,t.currentTarget.classList.contains("is-default")?this.el.classList.add("is-default"):this.el.classList.remove("is-default")}}]),i}(),Kt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).events={click:{videolink:"videoLinkClick"}},e.container=e.$("container"),e.prev=e.$("prev"),e.next=e.$("next"),e}return f(i,o),d(i,[{key:"init",value:function(){this.swiper=new Swiper(this.container,{speed:800,loop:!0,centeredSlides:!0,slidesPerView:"auto",grabCursor:!0,slideToClickedSlide:!0,navigation:{nextEl:this.next,prevEl:this.prev}})}},{key:"videoLinkClick",value:function(t){t.preventDefault();var e=t.currentTarget,i=this.data("id",e),n=this.data("host",e);this.call("openVideo",{id:i,host:n},"Videomodal")}},{key:"destroy",value:function(){this.swiper.destroy()}}]),i}(),Jt=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).events={click:{close:"close"}},e.inner=e.$("inner"),e}return f(i,o),d(i,[{key:"openVideo",value:function(t){var e=this;this.emptyTimeout&&clearTimeout(this.emptyTimeout),this.appendDelay=setTimeout(function(){switch(t.host){case"youtube":e.inner.innerHTML='<iframe src="https://www.youtube.com/embed/'.concat(t.id,'?&autoplay=1" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>');break;case"vimeo":e.inner.innerHTML='<iframe src="https://player.vimeo.com/video/'.concat(t.id,'?autoplay=1&loop=1&autopause=0" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>');break;default:console.error("You need to define a host")}},500),this.el.classList.add("is-active")}},{key:"close",value:function(){var t=this;clearTimeout(this.appendDelay),this.el.classList.remove("is-active"),this.emptyTimeout=setTimeout(function(){t.inner.innerHTML=""},250)}}]),i}();function Zt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Qt="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function te(t,e){return 0===t.indexOf(e.toLowerCase())?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function ee(t){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(t)}function ie(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.id,n=e.url,s=i||n;if(!s)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(t=s,!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t)return"https://vimeo.com/".concat(s);if(ee(s))return s.replace("http:","https:");if(i)throw new TypeError("“".concat(i,"” is not a valid video id."));throw new TypeError("“".concat(s,"” is not a vimeo.com url."))}var ne=void 0!==Array.prototype.indexOf,se="undefined"!=typeof window&&void 0!==window.postMessage;if(!(Qt||ne&&se))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var oe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t){if(!t.WeakMap){var i=Object.prototype.hasOwnProperty,s=function(t,e,i){Object.defineProperty?Object.defineProperty(t,e,{configurable:!0,writable:!0,value:i}):t[e]=i};t.WeakMap=function(){function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(s(this,"_id","_WeakMap"+"_"+e()+"."+e()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function n(t,e){if(!o(t)||!i.call(t,"_id"))throw new TypeError(e+" method called on incompatible receiver "+typeof t)}function e(){return Math.random().toString().substring(2)}return s(t.prototype,"delete",function(t){if(n(this,"delete"),!o(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)&&(delete t[this._id],!0)}),s(t.prototype,"get",function(t){if(n(this,"get"),o(t)){var e=t[this._id];return e&&e[0]===t?e[1]:void 0}}),s(t.prototype,"has",function(t){if(n(this,"has"),!o(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)}),s(t.prototype,"set",function(t,e){if(n(this,"set"),!o(t))throw new TypeError("Invalid value used as weak map key");var i=t[this._id];return i&&i[0]===t?i[1]=e:s(t,this._id,[t,e]),this}),s(t,"_polyfill",!0),t}()}function o(t){return Object(t)===t}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:oe);var re,ae=(function(t){var e,i,n;n=function(){var e,r,i,t=Object.prototype.toString,n="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(t,e,i,n){return Object.defineProperty(t,e,{value:i,writable:!0,configurable:!1!==n})}}catch(t){e=function(t,e,i){return t[e]=i,t}}function o(t,e){i.add(t,e),r||(r=n(i.drain))}function a(t){var e,i=typeof t;return null==t||"object"!=i&&"function"!=i||(e=t.then),"function"==typeof e&&e}function l(){for(var t=0;t<this.chain.length;t++)s(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function s(t,e,i){var n,s;try{!1===e?i.reject(t.msg):(n=!0===e?t.msg:e.call(void 0,t.msg))===i.promise?i.reject(TypeError("Promise-chain cycle")):(s=a(n))?s.call(n,i.resolve,i.reject):i.resolve(n)}catch(t){i.reject(t)}}function c(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,0<e.chain.length&&o(l,e))}function h(t,i,n,s){for(var e=0;e<i.length;e++)!function(e){t.resolve(i[e]).then(function(t){n(e,t)},s)}(e)}function u(t){this.def=t,this.triggered=!1}function d(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new d(this);this.then=function(t,e){var i={success:"function"!=typeof t||t,failure:"function"==typeof e&&e};return i.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");i.resolve=t,i.reject=e}),n.chain.push(i),0!==n.state&&o(l,n),i.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,function(t){(function t(i){var n,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(n=a(i))?o(function(){var e=new u(s);try{n.call(i,function(){t.apply(e,arguments)},function(){c.apply(e,arguments)})}catch(t){c.call(e,t)}}):(s.msg=i,s.state=1,0<s.chain.length&&o(l,s))}catch(t){c.call(new u(s),t)}}}).call(n,t)},function(t){c.call(n,t)})}catch(t){c.call(n,t)}}i=function(){var i,n,s;function o(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(t,e){s=new o(t,e),n?n.next=s:i=s,n=s,s=void 0},drain:function(){var t=i;for(i=n=r=void 0;t;)t.fn.call(t.self),t=t.next}}}();var v=e({},"constructor",f,!1);return e(f.prototype=v,"__NPO__",0,!1),e(f,"resolve",function(i){return i&&"object"==typeof i&&1===i.__NPO__?i:new this(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");t(i)})}),e(f,"reject",function(i){return new this(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");e(i)})}),e(f,"all",function(e){var r=this;return"[object Array]"!=t.call(e)?r.reject(TypeError("Not an array")):0===e.length?r.resolve([]):new r(function(i,t){if("function"!=typeof i||"function"!=typeof t)throw TypeError("Not a function");var n=e.length,s=Array(n),o=0;h(r,e,function(t,e){s[t]=e,++o===n&&i(s)},t)})}),e(f,"race",function(e){var n=this;return"[object Array]"!=t.call(e)?n.reject(TypeError("Not an array")):new n(function(i,t){if("function"!=typeof i||"function"!=typeof t)throw TypeError("Not a function");h(n,e,function(t,e){i(e)},t)})}),f},(i=oe)[e="Promise"]=i[e]||n(),t.exports&&(t.exports=i[e])}(re={exports:{}},re.exports),re.exports),le=new WeakMap;function ce(t,e,i){var n=le.get(t.element)||{};e in n||(n[e]=[]),n[e].push(i),le.set(t.element,n)}function he(t,e){return(le.get(t.element)||{})[e]||[]}function ue(t,e,i){var n=le.get(t.element)||{};if(!n[e])return!0;if(!i)return n[e]=[],le.set(t.element,n),!0;var s=n[e].indexOf(i);return-1!==s&&n[e].splice(s,1),le.set(t.element,n),n[e]&&0===n[e].length}var de=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function fe(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return de.reduce(function(t,e){var i=n.getAttribute("data-vimeo-".concat(e));return(i||""===i)&&(t[e]=""===i?1:i),t},t)}function ve(t,e){var i=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=i,e.appendChild(n.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function pe(o){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length?arguments[2]:void 0;return new Promise(function(e,i){if(!ee(o))throw new TypeError("“".concat(o,"” is not a vimeo.com url."));var t="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(o));for(var n in r)r.hasOwnProperty(n)&&(t+="&".concat(n,"=").concat(encodeURIComponent(r[n])));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",t,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var t=JSON.parse(s.responseText);if(403===t.domain_status_code)return ve(t,a),void i(new Error("“".concat(o,"” is not embeddable.")));e(t)}catch(t){i(t)}else i(new Error("“".concat(o,"” is not embeddable.")));else i(new Error("“".concat(o,"” was not found.")))},s.onerror=function(){var t=s.status?" (".concat(s.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(t,".")))},s.send()})}function me(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return console.warn(t),{}}return t}function ye(t,e,i){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var n={method:e};void 0!==i&&(n.value=i);var s=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));8<=s&&s<10&&(n=JSON.stringify(n)),t.element.contentWindow.postMessage(n,t.origin)}}function ge(i,n){var e,t=[];if((n=me(n)).event){if("error"===n.event)he(i,n.data.method).forEach(function(t){var e=new Error(n.data.message);e.name=n.data.name,t.reject(e),ue(i,n.data.method,t)});t=he(i,"event:".concat(n.event)),e=n.data}else if(n.method){var s=function(t,e){var i=he(t,e);if(i.length<1)return!1;var n=i.shift();return ue(t,e,n),n}(i,n.method);s&&(t.push(s),e=n.value)}t.forEach(function(t){try{if("function"==typeof t)return void t.call(i,e);t.resolve(e)}catch(t){}})}var we=new WeakMap,ke=new WeakMap,be=function(){function s(a){var t,l=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),window.jQuery&&a instanceof jQuery&&(1<a.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),a=a[0]),"undefined"!=typeof document&&"string"==typeof a&&(a=document.getElementById(a)),t=a,!Boolean(t&&1===t.nodeType&&"nodeName"in t&&t.ownerDocument&&t.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==a.nodeName){var i=a.querySelector("iframe");i&&(a=i)}if("IFRAME"===a.nodeName&&!ee(a.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(we.has(a))return we.get(a);this._window=a.ownerDocument.defaultView,this.element=a,this.origin="*";var n=new ae(function(o,r){if(l._onMessage=function(t){if(ee(t.origin)&&l.element.contentWindow===t.source){"*"===l.origin&&(l.origin=t.origin);var e=me(t.data);if(e&&"error"===e.event&&e.data&&"ready"===e.data.method){var i=new Error(e.data.message);return i.name=e.data.name,void r(i)}var n=e&&"ready"===e.event,s=e&&"ping"===e.method;if(n||s)return l.element.setAttribute("data-ready","true"),void o();ge(l,e)}},l._window.addEventListener("message",l._onMessage),"IFRAME"!==l.element.nodeName){var t=fe(a,e);pe(ie(t),t,a).then(function(t){var e,i,n,s=ve(t,a);return l.element=s,l._originalElement=a,e=a,i=s,n=le.get(e),le.set(i,n),le.delete(e),we.set(l.element,l),t}).catch(r)}});return ke.set(this,n),we.set(this.element,this),"IFRAME"===this.element.nodeName&&ye(this,"ping"),this}var t,e,i;return t=s,(e=[{key:"callMethod",value:function(i){var n=this,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new ae(function(t,e){return n.ready().then(function(){ce(n,i,{resolve:t,reject:e}),ye(n,i,s)}).catch(e)})}},{key:"get",value:function(i){var n=this;return new ae(function(t,e){return i=te(i,"get"),n.ready().then(function(){ce(n,i,{resolve:t,reject:e}),ye(n,i)}).catch(e)})}},{key:"set",value:function(i,n){var s=this;return new ae(function(t,e){if(i=te(i,"set"),null==n)throw new TypeError("There must be a value to set.");return s.ready().then(function(){ce(s,i,{resolve:t,reject:e}),ye(s,i,n)}).catch(e)})}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===he(this,"event:".concat(t)).length&&this.callMethod("addEventListener",t).catch(function(){}),ce(this,"event:".concat(t),e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");ue(this,"event:".concat(t),e)&&this.callMethod("removeEventListener",t).catch(function(t){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=ke.get(this)||new ae(function(t,e){e(new Error("Unknown player. Probably unloaded."))});return ae.resolve(t)}},{key:"addCuePoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new ae(function(t){ke.delete(e),we.delete(e.element),e._originalElement&&(we.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),e._window.removeEventListener("message",e._onMessage),t()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"setMuted",value:function(t){return this.set("muted",t)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}])&&Zt(t.prototype,e),i&&Zt(t,i),s}();Qt||(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),i=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(t))};e.forEach(function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=fe(e);pe(ie(t),t,e).then(function(t){return ve(t,e)}).catch(i)}catch(t){i(t)}})}(),function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",function(t){if(ee(t.origin)&&t.data&&"spacechange"===t.data.event)for(var e=n.querySelectorAll("iframe"),i=0;i<e.length;i++)if(e[i].contentWindow===t.source){e[i].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}}))}());var Te="".concat(e,".").concat("VimeoPlayer"),Ee={CLICK:"click.".concat(Te),LAUNCH:"launch.".concat(Te),PAUSE:"pause.".concat(Te)},Le=function(t){function e(t){return h(this,e),y(this,v(e).call(this,t))}return f(e,o),d(e,[{key:"init",value:function(){var e=this;this.$el=$(this.el),this.player=new be(this.el),this.$el.hasClass("is-show")&&this.player.play(),this.timeout,this.$el.on(Ee.LAUNCH,function(t){"enter"==t.way?e.timeout=setTimeout(function(){e.player.play()},100):(clearTimeout(e.timeout),e.player.pause())}),this.$el.on(Ee.PAUSE,function(t){e.player.pause()})}},{key:"destroy",value:function(){this.player.destroy(),g(v(e.prototype),"destroy",this).call(this),this.$el.off(".".concat(Te))}}]),e}(),Ce="".concat(e,".").concat("Next"),Se={INVIEW:"inview.".concat(Ce)},Ae=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).link=e.$("link"),e.visual=e.$("visual"),e.visualOuter=e.$("visualOuter"),e.visualInner=e.$("visualInner"),e.video=e.$("video"),e.$el=$(e.el),e.$video=$(e.video),e}return f(i,o),d(i,[{key:"init",value:function(){var e=this;this.compute(),this.initTl(),this.mouseEnterBind=function(){e.tl.play()},this.link.addEventListener("mouseenter",this.mouseEnterBind),this.mouseLeaveBind=function(){e.tl.reverse()},this.link.addEventListener("mouseleave",this.mouseLeaveBind),this.onResizeBind=function(){e.resizeTick||(e.resizeTick=!0,requestAnimationFrame(function(){e.compute(),e.initTl(),e.resizeTick=!1}))},window.addEventListener("resize",this.onResizeBind),this.$el.on(Se.INVIEW,function(t){e.$video.triggerHandler(Object.assign(t,{type:Ee.LAUNCH}))})}},{key:"compute",value:function(){TweenMax.set([this.visualOuter,this.visualInner,this.visual],{clearProps:"x,y"}),this.viewport={width:window.innerWidth,height:window.innerHeight},this.elBCR=this.el.getBoundingClientRect(),this.visualBCR=this.visual.getBoundingClientRect(),this.visualOffset={top:this.visualBCR.top-this.elBCR.top,left:this.visualBCR.left-this.elBCR.left}}},{key:"killTl",value:function(){this.tl&&this.tl.kill&&this.tl.kill()}},{key:"initTl",value:function(){var t=this,e={y:this.viewport.height/2};this.killTl(),TweenMax.set(this.visualOuter,{y:-this.visualOffset.top,x:-this.visualOffset.left}),1200<=window.innerWidth&&(this.tl=new TimelineMax({onUpdate:function(){TweenMax.set(t.visual,{y:e.y}),TweenMax.set(t.visualInner,{y:-e.y})}}),this.tl.fromTo(e,.5,{y:1.1*this.visualBCR.height},{y:0,ease:Power4.easeInOut}),this.tl.progress(.1),this.tl.progress(0),this.tl.pause())}},{key:"destroy",value:function(){this.link.removeEventListener("mouseenter",this.mouseEnterBind),this.link.removeEventListener("mouseleave",this.mouseLeaveBind),window.removeEventListener("resize",this.onResizeBind),this.$el.off(".".concat(Ce))}}]),i}(),xe=function(t){function s(t){var e;h(this,s),(e=y(this,v(s).call(this,t))).events={click:{toggler:"toggle"}},e.shareLinks=e.$("share"),e.shareBind=e.share.bind(m(e));for(var i=0,n=Array.from(e.shareLinks);i<n.length;i++){n[i].addEventListener("click",e.shareBind)}return e}return f(s,o),d(s,[{key:"toggle",value:function(){this.el.classList.toggle("is-active")}},{key:"share",value:function(t){t.preventDefault();var e,i=t.currentTarget,n=this.data("platform",i),s=this.data("url",i);switch(n){case"facebook":e="https://facebook.com/sharer/sharer.php?u="+s,this.openWindow(e);break;case"twitter":e="https://twitter.com/share?url="+s+"&amp;text="+encodeURIComponent(this.data("text",i)),this.openWindow(e);break;case"mail":var o=encodeURIComponent(this.data("subject",i)),r=encodeURIComponent(this.data("body",i));this.openMail(o,r)}}},{key:"openWindow",value:function(t){window.open(t,"Share","menubar=no, toolbar=no, resizable=yes, scrollbars=yes, height=500, width=600")}},{key:"openMail",value:function(t,e){window.location="mailto:?subject="+t+"&body="+e}},{key:"destroy",value:function(){g(v(s.prototype),"destroy",this).call(this);for(var t=0,e=Array.from(this.shareLinks);t<e.length;t++){e[t].removeEventListener("click",this.shareBind)}}}]),s}(),Me="success",Be="error",Re=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).overlay=e.$("overlay"),e.msgTitle=e.$("msgtitle"),e.msgContent=e.$("msgcontent"),e.msgError=e.$("msgerror"),e.cta=e.$("cta"),e.captchaId=null,e.captcha=e.$("captcha"),e.captchaKey=e.data("sitekey"),e.inputs=e.$("input"),e.overlayActive=!1,e}return f(i,o),d(i,[{key:"init",value:function(){this.onSubmitBind=this.onSubmit.bind(this),this.el.addEventListener("submit",this.onSubmitBind),this.inputBlurBind=this.onInputBlur.bind(this);for(var t=0,e=Array.from(this.inputs);t<e.length;t++){e[t].addEventListener("blur",this.inputBlurBind)}}},{key:"onInputBlur",value:function(t){0<t.currentTarget.value.length?t.currentTarget.classList.add("is-filled"):t.currentTarget.classList.remove("is-filled")}},{key:"onSubmit",value:function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),this.overlayActive)return this.overlay.classList.remove("is-active"),this.overlayActive=!1,this.cta.innerText="Submit",document.activeElement.blur(),this.call("setActive",!1,"Rainmoji","form"),!1;this.el.classList.add("is-loading"),this.validate()?(null===this.captchaId&&this.captcha?this.captchaId=window.grecaptcha.render(this.captcha,{sitekey:this.captchaKey,size:"invisible",callback:function(t){e.sendData()}}):window.grecaptcha.reset(this.captchaId),window.grecaptcha.execute(this.captchaId)):this.onError({message:"Error 400 : Bad request. Some required fields are not filled properly."}),document.activeElement.blur()}},{key:"sendData",value:function(){var e=this,t=new FormData,i=function(t){for(var e=[],i=0;i<t.elements.length;i++){var n=t.elements[i];if(n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type)if("select-multiple"===n.type)for(var s=0;s<n.options.length;s++)n.options[s].selected&&e.push({name:n.name,value:n.options[s].value});else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&e.push({name:n.name,value:n.value})}return e}(this.el);for(var n in i)t.append(i[n].name,i[n].value);$.ajax({url:this.el.getAttribute("action"),type:"post",data:t,dataType:"json",contentType:!1,processData:!1,success:function(t){t.success?e.onSuccess(t):e.onError(t)},error:function(t){e.onError(t)}})}},{key:"onSuccess",value:function(t){this.call("resize",null,"Rainmoji","form"),this.call("setActive",!0,"Rainmoji","form"),this.el.classList.remove("is-loading"),this.message({title:"Message Sent!",content:"Thank you for reaching out!<br>We'll get back to you within 24 hours.",cta:"Send another message (Don't be shy)"}),document.activeElement.blur()}},{key:"onError",value:function(t){this.el.classList.remove("is-loading");var e=[];t.errors&&t.errors.length&&t.errors.forEach(function(t){return e.push(t)}),t.message&&e.push(t.message),this.message({title:"An error occured",content:"Please try again and make sure to fill all required fields.<br>If it doesn't work, please reach us by mail or phone.",errors:e,cta:"Try again"},Be),document.activeElement.blur()}},{key:"message",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Me;if(this.overlayActive=!0,this.overlay.classList.add("is-active"),e=i==Be?'<span class="o-emojied is-active"><span class="o-emojied_icon -warning"></span><span class="o-emojied_content">'.concat(t.title,"</span></span>"):t.title,this.msgTitle.innerHTML=e,this.msgContent.innerHTML=t.content,t.errors&&t.errors.length){var n=!(this.msgError.innerHTML=""),s=!1,o=void 0;try{for(var r,a=t.errors[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var l=r.value;this.msgError.innerHTML+=l+"<br>"}}catch(t){s=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}}else this.msgError.innerHTML="";this.cta.innerText=t.cta,i==Me&&this.reset()}},{key:"validate",value:function(){var e=this,t=Array.from(this.$("input")).filter(function(t){return null!=e.data("required",t)}),i=!0,n=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){o.value.classList.remove("-invalid")}}catch(t){n=!0,s=t}finally{try{i||null==r.return||r.return()}finally{if(n)throw s}}var a=!1;return t.forEach(function(t,e){var i=$(t);switch(i.attr("type")){case"checkbox":i[0].checked||(i.addClass("-invalid"),a=!0);break;case"tel":var n=!1,s=i.val();s&&s.length&&/\d/.test(s)&&(n=!0),n||(i.addClass("-invalid"),a=!0);break;default:i.val()||(i.addClass("-invalid"),a=!0)}}),!a}},{key:"reset",value:function(){this.el.reset();for(var t=0;t<this.el.length;t++)this.el[t].classList.remove("is-filled")}},{key:"destroy",value:function(){this.el.removeEventListener("submit",this.onSubmitBind);for(var t=0,e=Array.from(this.inputs);t<e.length;t++){e[t].removeEventListener("blur",this.inputBlurBind)}}}]),i}(),Ie=function(t){function i(t){var e;return h(this,i),(e=y(this,v(i).call(this,t))).events={click:"videoLinkClick"},e}return f(i,o),d(i,[{key:"videoLinkClick",value:function(t){t.preventDefault();var e=t.currentTarget,i=this.data("id",e),n=this.data("host",e);this.call("openVideo",{id:i,host:n},"Videomodal")}}]),i}(),Oe=Object.freeze({Load:M,Scroll:bt,Menutoggler:Tt,Headerlogo:Et,Intro:St,Intromask:xt,Punchline:Mt,Featureslist:Rt,Articlespreview:It,Loopingpunchlines:Ot,Footer:Dt,Rail:Pt,Nav:_t,Navdot:Nt,Navmain:jt,Bars:Ht,Expandingcircle:zt,Quotescarousel:qt,Teamlist:Wt,Teammodal:Ut,Rainmoji:Ft,Accordions:Vt,Commandments:Yt,Linebyline:Gt,Filters:Xt,Carousel:Kt,Videomodal:Jt,Next:Ae,Share:xe,Form:Re,Videotoggler:Ie,Vimeoplayer:Le}),De=Z(function(t){var e,i;e=J,i=function(){function m(t,e,i){if(i){var n=document.createDocumentFragment(),s=!e.hasAttribute("viewBox")&&i.getAttribute("viewBox");s&&e.setAttribute("viewBox",s);for(var o=i.cloneNode(!0);o.childNodes.length;)n.appendChild(o.firstChild);t.appendChild(n)}}function y(n){n.onreadystatechange=function(){if(4===n.readyState){var i=n._cachedDocument;i||((i=n._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=n.responseText,n._cachedTarget={}),n._embeds.splice(0).map(function(t){var e=n._cachedTarget[t.id];e||(e=n._cachedTarget[t.id]=i.getElementById(t.id)),m(t.parent,t.svg,e)})}},n.onreadystatechange()}function g(t){for(var e=t;"svg"!==e.nodeName.toLowerCase()&&(e=e.parentNode););return e}return function(t){var h,u=Object(t),e=window.top!==window.self;h="polyfill"in u?u.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&e;var d={},f=window.requestAnimationFrame||setTimeout,v=document.getElementsByTagName("use"),p=0;h&&function t(){for(var e=0;e<v.length;){var i=v[e],n=i.parentNode,s=g(n),o=i.getAttribute("xlink:href")||i.getAttribute("href");if(!o&&u.attributeName&&(o=i.getAttribute(u.attributeName)),s&&o){if(h)if(!u.validate||u.validate(o,s,i)){n.removeChild(i);var r=o.split("#"),a=r.shift(),l=r.join("#");if(a.length){var c=d[a];c||((c=d[a]=new XMLHttpRequest).open("GET",a),c.send(),c._embeds=[]),c._embeds.push({parent:n,svg:s,id:l}),y(c)}else m(n,s,document.getElementById(l))}else++e,++p}else++e}(!v.length||0<v.length-p)&&f(t,67)}()}},t.exports?t.exports=i():e.svg4everybody=i()});window.app={menuOpen:!1},window.addEventListener("load",function(){document.documentElement.scrollTop=0,requestAnimationFrame(function(){var t=new r({modules:Oe});t.init(t),De(),(window.isMobile=x)&&document.documentElement.classList.add("is-mobile");var e=1200<window.innerWidth;window.addEventListener("resize",function(){e&&window.innerWidth<=1200&&location.reload(),!e&&1200<window.innerWidth&&location.reload()}),C.classList.add("is-loaded"),C.classList.add("is-ready"),C.classList.add("is-first-blood"),C.classList.remove("is-loading")})})}();